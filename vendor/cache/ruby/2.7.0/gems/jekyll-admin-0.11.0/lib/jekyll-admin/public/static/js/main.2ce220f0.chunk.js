(this["webpackJsonpjekyll-admin"]=this["webpackJsonpjekyll-admin"]||[]).push([[0],{21:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return addFieldToMetadata})),__webpack_require__.d(__webpack_exports__,"f",(function(){return removeFieldFromMetadata})),__webpack_require__.d(__webpack_exports__,"g",(function(){return updateMetadataFieldKey})),__webpack_require__.d(__webpack_exports__,"h",(function(){return updateMetadataFieldValue})),__webpack_require__.d(__webpack_exports__,"c",(function(){return convertMetadataField})),__webpack_require__.d(__webpack_exports__,"e",(function(){return moveMetadataArrayItem})),__webpack_require__.d(__webpack_exports__,"d",(function(){return injectDefaultFields})),__webpack_require__.d(__webpack_exports__,"b",(function(){return computeFieldType}));var _Users_mertkahyaoglu_dev_jekyll_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(37),underscore__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8),underscore__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__),lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(52),lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_2__),addFieldToMetadata=function addFieldToMetadata(state,namePrefix){var tmpState=lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_2___default()(state),field=eval("tmpState.".concat(namePrefix));return void 0===field||(underscore__WEBPACK_IMPORTED_MODULE_1___default.a.isArray(field)?field.push(""):field["New field ".concat(state.new_field_count)]=""),tmpState.metadata},removeFieldFromMetadata=function removeFieldFromMetadata(state,namePrefix,key){var tmpState=lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_2___default()(state),field=eval("tmpState.".concat(namePrefix));if(void 0===field)return tmpState.metadata;if(underscore__WEBPACK_IMPORTED_MODULE_1___default.a.isArray(field)){if(key>=field.length)return tmpState.metadata;field.splice(key,1)}else{if(!underscore__WEBPACK_IMPORTED_MODULE_1___default.a.has(field,key))return tmpState.metadata;delete field[key]}return tmpState.metadata},updateMetadataFieldKey=function updateMetadataFieldKey(state,namePrefix,fieldKey,newKey){var tmpState=lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_2___default()(state),field=eval("tmpState.".concat(namePrefix));return void 0===field||underscore__WEBPACK_IMPORTED_MODULE_1___default.a.has(field,newKey)||(field=Object.keys(field).reduce((function(e,t){return t===fieldKey?e[newKey]=field[t]:e[t]=field[t],e}),{}),eval("tmpState.".concat(namePrefix," = field"))),tmpState.metadata},updateMetadataFieldValue=function updateMetadataFieldValue(state,nameAttr,value){var tmpState=lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_2___default()(state);return eval("tmpState.".concat(nameAttr," = value")),tmpState.metadata},convertMetadataField=function convertMetadataField(state,nameAttr,convertType){var tmpState=lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_2___default()(state),field=eval("tmpState.".concat(nameAttr));if(void 0===field)return tmpState.metadata;if("array"===convertType)field=[""];else if("object"===convertType){var key="New field ".concat(state.new_field_count);field=Object(_Users_mertkahyaoglu_dev_jekyll_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},key,"")}else field="";return eval("tmpState.".concat(nameAttr," = field")),tmpState.metadata},moveMetadataArrayItem=function moveMetadataArrayItem(state,namePrefix,srcInd,targetInd){var tmpState=lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_2___default()(state),arr=eval("tmpState.".concat(namePrefix));return underscore__WEBPACK_IMPORTED_MODULE_1___default.a.isArray(arr)?(arr.splice(targetInd,0,arr.splice(srcInd,1)[0]),tmpState.metadata):tmpState.metadata},injectDefaultFields=function(e,t,a){var n,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{n=e.content.defaults}catch(c){return{}}var i={};return underscore__WEBPACK_IMPORTED_MODULE_1___default.a.each(n,(function(e){var n=e.scope;n.type&&n.type!==a||n.path&&n.path!==t||underscore__WEBPACK_IMPORTED_MODULE_1___default.a.extend(i,e.values)})),underscore__WEBPACK_IMPORTED_MODULE_1___default.a.extend(i,r)},computeFieldType=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a="simple",n=["tags","categories"];return n.includes(t)&&underscore__WEBPACK_IMPORTED_MODULE_1___default.a.isArray(e)||(underscore__WEBPACK_IMPORTED_MODULE_1___default.a.isObject(e)&&(a="object"),underscore__WEBPACK_IMPORTED_MODULE_1___default.a.isArray(e)&&(a="array")),a}},277:function(e,t,a){e.exports=a(675)},588:function(e,t){},670:function(e,t){e.exports="data:image/png;base64,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"},674:function(e,t,a){},675:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"getDeleteMessage",(function(){return M})),a.d(n,"getLeaveMessage",(function(){return U})),a.d(n,"getNotFoundMessage",(function(){return x})),a.d(n,"getOverrideMessage",(function(){return B})),a.d(n,"getParserErrorMessage",(function(){return H})),a.d(n,"getSuccessMessage",(function(){return V})),a.d(n,"getErrorMessage",(function(){return K})),a.d(n,"getUploadSuccessMessage",(function(){return G})),a.d(n,"getUploadErrorMessage",(function(){return Q})),a.d(n,"getFetchErrorMessage",(function(){return W})),a.d(n,"getUpdateErrorMessage",(function(){return Y})),a.d(n,"getDeleteErrorMessage",(function(){return q})),a.d(n,"getPublishDraftMessage",(function(){return z})),a.d(n,"getTitleRequiredMessage",(function(){return Z})),a.d(n,"getFilenameRequiredMessage",(function(){return J})),a.d(n,"getContentRequiredMessage",(function(){return X})),a.d(n,"getFilenameNotValidMessage",(function(){return $})),a.d(n,"sidebar",(function(){return ee})),a.d(n,"labels",(function(){return te}));var r=a(0),i=a.n(r),c=a(111),l=a(20),o=a(11),s=a(2),u=a(3),d=a(7),p=a(4),f=a(5),m=a(10),h=a(24),g=a(14),E=a.n(g),v=a(1),y="/_api",b=function(){return"".concat(y,"/configuration")},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(y,"/pages/").concat(e)},_=function(e,t){return e?"".concat(y,"/pages/").concat(e,"/").concat(t):"".concat(y,"/pages/").concat(t)},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(y,"/drafts/").concat(e)},k=function(e,t){return e?"".concat(y,"/drafts/").concat(e,"/").concat(t):"".concat(y,"/drafts/").concat(t)},F=function(e,t){return t?"".concat(y,"/collections/").concat(e,"/entries/").concat(t):"".concat(y,"/collections/").concat(e,"/entries")},j=function(e,t,a){return t?"".concat(y,"/collections/").concat(e,"/").concat(t,"/").concat(a):"".concat(y,"/collections/").concat(e,"/").concat(a)},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(y,"/data/").concat(e)},A=function(e,t){return e?"".concat(y,"/data/").concat(e,"/").concat(t):"".concat(y,"/data/").concat(t)},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(y,"/static_files/").concat(e)},S=function(e,t){return e?"".concat(y,"/static_files/").concat(e,"/").concat(t):"".concat(y,"/static_files/").concat(t)},w=a(37),L=a(116),I=a.n(L),N=function(e,t,a){return{type:"ADD_NOTIFICATION",notification:{title:e,message:t,level:a}}};var R=a(275),P=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this)).name="BadInputError",n.message=e||"Bad input",n.stack=(new Error).stack,n}return a}(Object(R.a)(Error)),M=function(e){return'Are you sure that you want to delete "'.concat(e,'" ?')},U=function(){return"You have unsaved changes on this page. Are you sure you want to leave?"},x=function(e){return"No ".concat(e," found.")},B=function(e){return"".concat(e," will be overwritten. Continue anyway?")},H=function(){return"Parse Error"},V=function(){return"Success"},K=function(){return"Error"},G=function(e){return"".concat(e," uploaded successfully")},Q=function(){return"Error occurred uploading the file."},W=function(e){return"Could not fetch the ".concat(e)},Y=function(e){return"Could not update the ".concat(e)},q=function(e){return"Could not delete the ".concat(e)},z=function(e,t){return"'".concat(e,"' will be converted to '").concat(t,"'")},Z=function(){return"The title is required."},J=function(){return"The filename is required."},X=function(){return"The content is required."},$=function(){return"The filename is not valid."},ee={pages:"Pages",posts:"Posts",drafts:"Drafts",datafiles:"Data Files",collections:"Collections",staticfiles:"Static Files",configuration:"Configuration"},te={save:{label:"Save",triggeredLabel:"Saved"},create:{label:"Create",triggeredLabel:"Created"},delete:{label:"Delete"},publish:{label:"Publish"},view:{label:"View"},upload:{label:"Upload files"},viewToggle:{label:"Switch View to GUI Editor",triggeredLabel:"Switch View to Raw Editor"}},ae=n,ne=ae.getErrorMessage,re=ae.getFetchErrorMessage,ie=ae.getUpdateErrorMessage,ce=ae.getDeleteErrorMessage,le=function(e,t,a,n){return I()(e,{credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){return n(Object(w.a)({type:t.type},t.name,e))})).catch((function(e){n(Object(w.a)({type:a.type},a.name,e)),n(N(ne(),re(t.name),"error"))}))},oe=function(e,t,a,n,r){return I()(e,{method:"PUT",credentials:"same-origin",body:t}).then((function(e){return e.json()})).then((function(e){if(e.error_message)throw new P(e.error_message);r(Object(w.a)({type:a.type},a.name,e))})).catch((function(e){r(Object(w.a)({type:n.type},n.name,e));var t="BadInputError"===e.name?e.message:ie(a.name);r(N(ne(),t,"error"))}))},se=function(e,t,a,n){return I()(e,{method:"DELETE",credentials:"same-origin"}).then((function(e){return n({type:t.type,id:t.id})})).catch((function(e){n(Object(w.a)({type:a.type},a.name,e)),n(N(ne(),ce(t.name),"error"))}))},ue=a(8),de=a.n(ue),pe=ae.getTitleRequiredMessage,fe=ae.getFilenameNotValidMessage,me=/^(?:.+\/)*(\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1]))-(.*)(\.[^.]+)$/,he=/^(.*)(\.[^.]+)$/,ge=function(e){return Ee(e,{path:"required|filename"},{"path.required":pe(),"path.filename":fe()})},Ee=function(e,t,a){var n=[];return de.a.each(t,(function(t,r,i){var c=t.split("|");de.a.each(c,(function(t){(function(e,t){switch(t){case"required":return!!e;case"date":return me.test(e);case"filename":return he.test(e);default:return!1}})(e[r],t)||n.push(a["".concat(r,".").concat(t)])}))})),n},ve=function(e,t){return t?e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})):e},ye=function(e,t){return e.filter((function(e){return e.relative_path!==t}))},be=function(e){return{type:"SEARCH_CONTENT",input:e}},Ce=function(){return{type:"CLEAR_ERRORS"}},_e=function(e){return{type:"VALIDATION_ERROR",errors:e}};var Oe=a(165),ke=a.n(Oe),Fe=function(e){return de.a.isEmpty(e)?"":ke.a.safeDump(e,{indent:2})},je=function(e){return e?e.charAt(0).toUpperCase()+e.substring(1).toLowerCase():""},Te=function(e){return e?e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})):""},Ae=function(e){if(!e)return"";var t="\xe0\xe1\xe4\xe2\xe8\xe9\xeb\xea\xec\xed\xef\xee\u0131\xf2\xf3\xf6\xf4\xf9\xfa\xfc\xfb\xf1\xe7\u015f\xdf\xff\u0153\xe6\u0155\u015b\u0144\u1e55\u1e83\u01f5\u011f\u01f9\u1e3f\u01d8\u1e8d\u017a\u1e27\xb7/_,:;",a=new RegExp(t.split("").join("|"),"g");return e.toString().toLowerCase().replace(/\s+/g,"-").replace(a,(function(e){return"aaaaeeeeiiiiioooouuuuncssyoarsnpwggnmuxzh------".charAt(t.indexOf(e))})).replace(/&/g,"-").replace(/[^\w-]+/g,"").replace(/-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},De=function(e){return e?e.substring(e.lastIndexOf("/")+1):""},Se=function(e){if(!e)return"";var t=De(e),a=t.lastIndexOf(".");return a>0?t.substring(a+1):""},we=function(e){e&&e.preventDefault&&e.preventDefault()},Le=function e(t){return de.a.isObject(t)?de.a.keys(t).reduce((function(a,n){if("string"===typeof t[n])try{a[n.trim()]=JSON.parse(t[n].trim())}catch(r){a[n.trim()]=t[n].trim()}else a[n.trim()]=e(t[n]);return a}),Array.isArray(t)?[]:{}):t},Ie=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!e)return"";var n=Te(e.toString());return[a,t,n].filter(Boolean).join(" | ")},Ne=function(e,t){return e?"".concat(e,"/").concat(t):"".concat(t)},Re=function(e){return de.a.omit(e,(function(e,t,a){return"raw_content"===t||"path"===t||""===e}))},Pe=function(e){return JSON.stringify(Le(e))},Me=ae.getContentRequiredMessage,Ue=function(){return function(e){return e({type:"FETCH_CONFIG_REQUEST"}),le("".concat(y,"/configuration"),{type:"FETCH_CONFIG_SUCCESS",name:"config"},{type:"FETCH_CONFIG_FAILURE",name:"error"},e)}},xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"editor";return function(a,n){var r;"gui"===t?(e=n().metadata.metadata,r={raw_content:Fe(e)}):r={raw_content:e};var i=Be(e);return i.length?a(_e(i)):(a({type:"CLEAR_ERRORS"}),oe(b(),JSON.stringify(r),{type:"PUT_CONFIG_SUCCESS",name:"config"},{type:"PUT_CONFIG_FAILURE",name:"error"},a))}},Be=function(e){return Ee({config:e},{config:"required"},{"config.required":Me()})},He=function(){return{type:"CONFIG_EDITOR_CHANGED"}};var Ve={save:"mod+s"},Ke=function(){return i.a.createElement("div",{className:"splitter"})};function Ge(e){var t=e.name;return i.a.createElement("i",{className:"fa fa-".concat(t),"aria-hidden":"true"})}var Qe=a(16),We=a.n(Qe),Ye=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={collapsed:!0},e.handleClick=function(){e.setState((function(e){return{collapsed:!e.collapsed}}))},e}return Object(d.a)(a,[{key:"renderIndicator",value:function(){var e=this.props,t=e.counter,a=e.count,n=this.state.collapsed;return n&&t&&a?i.a.createElement("div",{className:"counter"},a):i.a.createElement("div",{className:"chevrons"},i.a.createElement(Ge,{name:"chevron-".concat(n?"down":"up")}))}},{key:"render",value:function(){var e=this.props,t=e.icon,a=e.label,n=e.minHeight,r=e.count,c=e.children,l=this.state.collapsed,o=We()("accordion",{collapsed:l}),s=n;return l||(s=n&&r?(r+1)*n:"none"),i.a.createElement("div",{className:o,style:{maxHeight:s},onClick:this.handleClick},i.a.createElement("div",{className:"accordion-label"},t&&i.a.createElement(Ge,{name:t}),a,i.a.createElement("div",{className:"indicator"},this.renderIndicator())),c)}}]),a}(r.Component);Ye.defaultProps={minHeight:50};var qe=Ye,ze=a(26),Ze=a.n(ze),Je=ae.getTitleRequiredMessage,Xe=ae.getFilenameRequiredMessage,$e=ae.getFilenameNotValidMessage,et=function(){return function(e){return e({type:"FETCH_COLLECTIONS_REQUEST"}),le("".concat(y,"/collections"),{type:"FETCH_COLLECTIONS_SUCCESS",name:"collections"},{type:"FETCH_COLLECTIONS_FAILURE",name:"error"},e)}},tt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(a){return a({type:"FETCH_COLLECTION_REQUEST"}),le(F(e,t),{type:"FETCH_COLLECTION_SUCCESS",name:"entries"},{type:"FETCH_COLLECTION_FAILURE",name:"error"},a)}},at=function(e,t,a){return function(n){return n({type:"FETCH_DOCUMENT_REQUEST"}),le(j(e,t,a),{type:"FETCH_DOCUMENT_SUCCESS",name:"doc"},{type:"FETCH_DOCUMENT_FAILURE",name:"error"},n)}},nt=function(e,t){return function(a,n){var r=n().metadata.metadata,i=r.path,c=r.raw_content,l=r.title,o=r.date;if(i&&"".concat(i,"/")!==t||!l){var s=lt(r,e);if(s.length)return a(_e(s))}else i=ct(l,e,o);a({type:"CLEAR_ERRORS"});var u=Re(r);return oe(j(e,t,i),Pe({raw_content:c,front_matter:u}),{type:"PUT_DOCUMENT_SUCCESS",name:"doc"},{type:"PUT_DOCUMENT_FAILURE",name:"error"},a)}},rt=function(e,t,a){return function(n,r){var i=r().metadata.metadata,c=i.path,l=i.raw_content,o=i.title,s=i.date;if(c&&"".concat(c,"/")!==t||!o){var u=lt(i,e);if(u.length)return n(_e(u))}else c=ct(o,e,s);n({type:"CLEAR_ERRORS"});var d=Re(i),p=t?"_".concat(e,"/").concat(t,"/").concat(c):"_".concat(e,"/").concat(c);return oe(j(e,t,a),Pe({path:p,raw_content:l,front_matter:d}),{type:"PUT_DOCUMENT_SUCCESS",name:"doc"},{type:"PUT_DOCUMENT_FAILURE",name:"error"},n)}},it=function(e,t,a){return function(n){var r=Ne(t,a);return se(j(e,t,a),{type:"DELETE_DOCUMENT_SUCCESS",name:"doc",id:r},{type:"DELETE_DOCUMENT_FAILURE",name:"error"},n)}},ct=function(e,t,a){var n=Ae(e);if("posts"===t){var r=a?a.split(" ")[0]:Ze()().format("YYYY-MM-DD");return"".concat(r,"-").concat(n,".md")}return"".concat(n,".md")},lt=function(e,t){var a={title:"required"},n={"title.required":Je(),"path.required":Xe()};return"posts"===t?(a.path="required|date",n["path.date"]=$e()):(a.path="required|filename",n["path.filename"]=$e()),Ee(e,a,n)};var ot=ae.sidebar,st=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.fetchCollections)()}},{key:"renderCollections",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.props.collections;if(!t.length)return null;var a=de.a.map(t,(function(t,a){if("posts"!==t.label&&!e.includes(t.label))return i.a.createElement("li",{key:a},i.a.createElement(s.Link,{activeClassName:"active",to:"".concat("/admin","/collections/").concat(t.label)},i.a.createElement(Ge,{name:"book"}),t.sidebar_label||je(t.label)))})).filter(Boolean),n=a.length;return n?i.a.createElement(qe,{count:n,icon:"briefcase",label:ot.collections,counter:!0},i.a.createElement("ul",null,a)):null}},{key:"render",value:function(){var e,t=this.props.config,a={pages:{icon:"file-text",link:"pages",translation:"pages"},datafiles:{icon:"database",link:"datafiles",translation:"datafiles",splitterBefore:!0},staticfiles:{icon:"file",link:"staticfiles",translation:"staticfiles"},configuration:{icon:"cog",link:"configuration",translation:"configuration",splitterBefore:!0}},n=de.a.keys(a);try{e=t.jekyll_admin.hidden_links||[]}catch(d){e=[]}var r=de.a.difference(n,e),c=[];de.a.each(r,(function(e,t,n){var r=a[e];r.splitterBefore&&c.push(i.a.createElement(Ke,{key:"splitter"+t})),c.push(i.a.createElement("li",{key:t},i.a.createElement(s.Link,{activeClassName:"active",to:"".concat("/admin","/").concat(r.link)},i.a.createElement(Ge,{name:r.icon}),ot[r.translation])))}));var l=this.renderCollections(e),o=!e.includes("posts"),u=t&&t.show_drafts;return i.a.createElement("div",{className:"sidebar"},i.a.createElement(s.Link,{className:"logo",to:"".concat("/admin","/pages")}),i.a.createElement("ul",{className:"routes"},l,o&&i.a.createElement("li",null,i.a.createElement(s.Link,{activeClassName:"active",to:"".concat("/admin","/collections/posts")},i.a.createElement(Ge,{name:"book"}),ot.posts)),u&&i.a.createElement("li",null,i.a.createElement(s.Link,{activeClassName:"active",to:"".concat("/admin","/drafts")},i.a.createElement(Ge,{name:"edit"}),ot.drafts)),(l||o||u)&&i.a.createElement(Ke,null),c))}}]),a}(r.Component),ut=Object(o.b)((function(e){return{collections:e.collections.collections}}),(function(e){return Object(m.b)({fetchCollections:et},e)}))(st),dt=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.config;return i.a.createElement("div",{className:"header"},i.a.createElement("h3",{className:"title"},i.a.createElement(s.Link,{target:"_blank",to:e.url||"/"},i.a.createElement(Ge,{name:"home"}),i.a.createElement("span",null,e.title||"You have no title!"))),i.a.createElement("span",{className:"version"},"v","0.11.0"))}}]),a}(r.Component),pt=a(264),ft=a.n(pt),mt=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).elementStyles={Containers:{DefaultStyle:{padding:15,width:360,textAlign:"center"}},Title:{DefaultStyle:{fontSize:21,color:"#fff"}},NotificationItem:{DefaultStyle:{margin:0,padding:"9px 15px 15px",fontSize:15,borderRadius:0,transition:"0.5s ease-in-out"},success:{color:"#fff",backgroundColor:"#088217"},error:{color:"#fff",backgroundColor:"#e21414"},warning:{color:"#fff",backgroundColor:"#ebad1a"},info:{color:"#fff",backgroundColor:"#369cc7"}},Dismiss:{DefaultStyle:{top:7,right:9,width:25,height:25,padding:4,backgroundColor:"transparent",border:"2px solid",opacity:"0.84"}}},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.notificationSystem=this.refs.notificationSystem}},{key:"componentWillReceiveProps",value:function(e){var t=e.notification;this.notificationSystem.addNotification({title:t.title,message:t.message,level:t.level,position:"br",autoDismiss:10})}},{key:"render",value:function(){return i.a.createElement(ft.a,{ref:"notificationSystem",style:this.elementStyles})}}]),a}(r.Component),ht=Object(o.b)((function(e){return{notification:e.notifications.notification}}))(mt),gt=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.fetchConfig)()}},{key:"componentWillReceiveProps",value:function(e){this.props.updated!==e.updated&&(0,this.props.fetchConfig)()}},{key:"componentDidUpdate",value:function(e){if(e.isFetching&&!this.props.isFetching){var t=this.props,a=t.config.content,n=a.jekyll_admin.homepage,r=a.collections,i=t.router,c=i.getCurrentLocation().pathname;if(n&&"/admin"===c){var l="".concat("/admin","/pages");Object.keys(r).concat("posts").includes(n)&&(l="".concat("/admin","/collections/").concat(n)),["drafts","datafiles","staticfiles","configuration"].includes(n)&&(l="".concat("/admin","/").concat(n)),i.replace(l)}}}},{key:"render",value:function(){var e=this.props,t=e.config;return e.isFetching?null:i.a.createElement(E.a,{title:"Jekyll Admin"},i.a.createElement(h.HotKeys,{keyMap:Ve,className:"wrapper"},t.content&&i.a.createElement("div",null,i.a.createElement(ut,{config:t.content}),i.a.createElement("div",{className:"container"},i.a.createElement(dt,{config:t.content}),i.a.createElement("div",{className:"content"},this.props.children)),i.a.createElement(ht,null))))}}]),a}(r.Component),Et=Object(o.b)((function(e){return{config:e.config.config,updated:e.config.updated,isFetching:e.config.isFetching}}),(function(e){return Object(m.b)({fetchConfig:Ue},e)}))(gt),vt=a(34);function yt(e){var t=e.fieldValue;return i.a.createElement("div",{className:"meta-value"},i.a.createElement(vt.a,{className:"field value-field",value:"".concat(t),disabled:!0}))}var bt={array:jt,object:Ot,simple:yt};function Ct(e){var t=e.type,a=e.fieldKey,n=e.fieldValue,r=bt[t];return i.a.createElement("div",{className:"object-item-wrap"},i.a.createElement("div",{className:"object-key ".concat(t)},i.a.createElement("input",{value:a,className:"field key-field",type:"text",disabled:!0})),i.a.createElement("div",{className:"object-value"},i.a.createElement(r,{fieldValue:n})))}var _t=a(21);function Ot(e){var t=e.fieldValue,a=de.a.map(t,(function(e,t){var a=Object(_t.b)(e);return i.a.createElement(Ct,{key:t,fieldKey:t,fieldValue:e,type:a})}));return i.a.createElement("div",{className:"meta-value-object"},a)}var kt={array:jt,object:Ot,simple:yt};function Ft(e){var t=e.type,a=e.fieldValue,n=e.index,r=kt[t];return i.a.createElement("div",{className:"array-item-wrap"},i.a.createElement("div",{className:"array"},i.a.createElement("div",{className:"array-header"},i.a.createElement("span",{className:"array-field-num"},n+1,".")),i.a.createElement(r,{fieldValue:a})))}function jt(e){var t=e.fieldValue.map((function(e,t){var a=Object(_t.b)(e);return i.a.createElement(Ft,{key:t,index:t,fieldValue:e,type:a})}));return i.a.createElement("div",{className:"meta-value-array"},t)}var Tt=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={dropdown:!1},e.toggleDropdownState=function(){e.setState((function(e){return{dropdown:!e.dropdown}}))},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.props.onEnableField,a=We()("dropdown",{"showing-dropdown":this.state.dropdown});return i.a.createElement("div",{className:"meta-buttons"},i.a.createElement("span",{className:a},i.a.createElement("a",{className:"meta-button",tabIndex:"1",onClick:this.toggleDropdownState,onBlur:function(){return e.setState({dropdown:!1})}},i.a.createElement(Ge,{name:"chevron-down"})),i.a.createElement("div",{className:"dropdown-wrap"},i.a.createElement("span",{onMouseDown:function(){return t()}},i.a.createElement(Ge,{name:"pencil"})," Override default"))))}}]),a}(r.Component),At={array:jt,object:Ot,simple:yt};function Dt(e){var t=e.type,a=e.fieldKey,n=e.fieldValue,r=e.enableField,c=At[t];return i.a.createElement("div",{className:"metafield  default-field"},i.a.createElement("div",{className:"meta-key ".concat(t)},i.a.createElement("input",{value:a,className:"field key-field",type:"text",disabled:!0}),i.a.createElement(Tt,{onEnableField:function(){r("metadata['".concat(a,"']"),n)}})),i.a.createElement(c,{fieldValue:n}))}var St=a(265),wt=a.n(St),Lt=a(86),It=a(266),Nt=a.n(It),Rt=a(267),Pt=a.n(Rt),Mt=a(268),Ut=a.n(Mt),xt=a(269),Bt=a.n(xt),Ht=ae.getDeleteMessage,Vt=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"handleClickDelete",value:function(e){var t=this.props,a=t.splat,n=t.onClickDelete,r=De(e);window.confirm(Ht(e))&&n(a,r)}},{key:"renderFileOverlay",value:function(e,t){var a=this;return e.from_theme?i.a.createElement("span",{className:"theme-indicator",title:"Theme Asset"},i.a.createElement(Ge,{name:"diamond"})):"index"!==t?i.a.createElement("button",{onClick:function(){return a.handleClickDelete(e.relative_path)},className:"delete",title:"Delete file"},"x"):void 0}},{key:"render",value:function(){var e=this.props,t=e.onClick,a=e.file,n=e.splat,r=this.isImageFile?i.a.createElement("img",{src:a.http_url,alt:a.relative_path}):i.a.createElement("div",null,i.a.createElement(Ge,{name:"file-text-o"})),c=t?i.a.createElement("a",{onClick:function(){return t(a.relative_path)}},r):i.a.createElement("a",{href:a.http_url,target:"_blank",rel:"noopener noreferrer"},r),l="index"===n?a.relative_path:a.name;return i.a.createElement("div",{className:"file-preview"},this.renderFileOverlay(a,n),c,i.a.createElement("span",{className:"filename"},l))}},{key:"isImageFile",get:function(){var e=this.props.file,t=e.type,a=e.extname;return"directory"!==t&&/png|jpg|gif|jpeg|svg|ico/i.test(a.substring(1))}}]),a}(r.Component);function Kt(e){var t=e.type,a=e.splat,n=void 0===a?"":a,r=["pages","datafiles","drafts","staticfiles"].includes(t)?"".concat("/admin","/").concat(t):"".concat("/admin","/collections/").concat(t),c=t;"datafiles"===t?c="data files":"staticfiles"===t&&(c="static files");var l=[];if(n){var o=n.split("/");l=o.map((function(e,t){var a=0===t?"":o.slice(0,t).join("/")+"/";return i.a.createElement("li",{key:t},i.a.createElement(s.Link,{to:"".concat(r,"/").concat(a).concat(e)},e))}))}return i.a.createElement("ul",{className:"breadcrumbs"},i.a.createElement("li",null,i.a.createElement(s.Link,{to:r},Te(c))),l)}var Gt=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleKeyPress=function(t){(0,e.props.search)(t.target.value)},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.searchBy;return i.a.createElement("input",{onKeyPress:this.handleKeyPress,type:"text",className:"field",placeholder:"Search by ".concat(e)})}}]),a}(r.Component),Qt=ae.getSuccessMessage,Wt=ae.getErrorMessage,Yt=ae.getUploadSuccessMessage,qt=ae.getUploadErrorMessage,zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){return t({type:"FETCH_STATICFILES_REQUEST"}),le(D(e),{type:"FETCH_STATICFILES_SUCCESS",name:"files"},{type:"FETCH_STATICFILES_FAILURE",name:"error"},t)}},Zt=function(e,t){return function(a){de.a.each(t,(function(t){var n=new FileReader;n.readAsDataURL(t),n.onloadend=function(){var r=JSON.stringify({encoded_content:n.result.split("base64,")[1]});return fetch(S(e,t.name),{method:"PUT",body:r,credentials:"same-origin"}).then((function(n){a({type:"PUT_STATICFILE_SUCCESS"}),a(zt(e)),a(N(Qt(),Yt(t.name),"success"))})).catch((function(e){a({type:"PUT_STATICFILE_FAILURE",error:e}),a(N(Wt(),qt(),"error"))}))}}))}},Jt=function(e,t){return function(a){var n=Ne(e,t);return se(S(e,t),{type:"DELETE_STATICFILE_SUCCESS",name:"file",id:n},{type:"DELETE_STATICFILE_FAILURE",name:"error"},a)}};var Xt=function(e,t){return t?e.filter((function(e){return e.path.toLowerCase().includes(t.toLowerCase())})):e},$t=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.fetchStaticFiles)("index")}},{key:"renderDirectoryListingBtn",value:function(){var e="".concat("/admin","/staticfiles");return i.a.createElement("div",{className:"page-buttons"},i.a.createElement(s.Link,{className:"btn btn-view",to:e},"Directory Listing"))}},{key:"renderPreviewNode",value:function(){var e=this.props,t=e.files,a=e.onClickStaticFile;return t.length?i.a.createElement("div",{className:"preview-container"},t.map((function(e,t){return i.a.createElement(Vt,{key:t,onClick:a,splat:"index",file:e})}))):i.a.createElement("div",{className:"preview-info"},i.a.createElement(Ge,{name:"exclamation-triangle"}),i.a.createElement("h2",null,"No files found!"),i.a.createElement("h4",null,"Upload files at 'Directory Listing' to have them displayed here."))}},{key:"render",value:function(){var e=this.props,t=e.isFetching,a=e.search,n=e.modalView;return t?null:i.a.createElement(E.a,{title:"Static File Listing"},i.a.createElement("div",null,i.a.createElement("div",{className:"content-header"},i.a.createElement(Kt,{type:"staticfiles"}),!n&&this.renderDirectoryListingBtn(),i.a.createElement("div",{className:"pull-right"},i.a.createElement(Gt,{searchBy:"filename",search:a}))),i.a.createElement("div",{className:"static-list"},this.renderPreviewNode())))}}]),a}(r.Component),ea=Object(o.b)((function(e){return{files:Xt(e.staticfiles.files,e.utils.input),isFetching:e.staticfiles.isFetching}}),(function(e){return Object(m.b)({fetchStaticFiles:zt,search:be},e)}))($t),ta=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={showModal:!1},e.customStyles={overlay:{backgroundColor:"rgba(0,0,0,0.6)",zIndex:10},content:{margin:20,paddingTop:0,paddingRight:10,paddingLeft:15}},e.openModal=function(){return e.setState({showModal:!0})},e.shutModal=function(){return e.setState({showModal:!1})},e.onPickItem=function(t){e.props.onPick(t),e.shutModal()},e}return Object(d.a)(a,[{key:"render",value:function(){return i.a.createElement("span",{className:"images-wrapper"},i.a.createElement("button",{onClick:this.openModal,ref:"trigger"},i.a.createElement(Ge,{name:"picture-o"})),i.a.createElement(Bt.a,{isOpen:this.state.showModal,contentLabel:"FilePicker",onRequestClose:this.shutModal,style:this.customStyles},i.a.createElement("div",{className:"content"},i.a.createElement(ea,{onClickStaticFile:this.onPickItem,modalView:!0}))))}}]),a}(r.Component),aa=ae.getDeleteMessage,na=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).creators=[","," ","Enter"],n.handleKeyUp=function(e){var t=n.state.pageTags,a=e.target.value;a.length&&n.creators.includes(e.key)?n.createTag(a):t.length&&0===a.length&&"Backspace"===e.key&&n.deleteTag(-1)},n.handleOnChange=function(e){var t=e.target.value;n.setState((function(e){return{tagInput:t}}))},n.showSuggestions=function(){n.setState((function(e){return{autoSuggest:!0}}))},n.closeSuggestions=function(){n.setState((function(e){return{autoSuggest:!1}}))},n.rectifyTag=function(e){var t=e.toString().split(" ");n.setState((function(e){return{pageTags:t}}))},n.state={tagInput:"",pageTags:e.fieldValue||[],autoSuggest:!1},n}return Object(d.a)(a,[{key:"componentWillReceiveProps",value:function(e){var t=e.fieldValue;this.setState({pageTags:t||[]})}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.nameAttr;(0,e.updateFieldValue)(t,this.state.pageTags)}},{key:"createTag",value:function(e){var t=this.state.pageTags,a=Object(Lt.a)(t);a.includes(e)||(a.push(e),this.setState((function(e){return{pageTags:a,tagInput:"",autoSuggest:!1}})))}},{key:"deleteTag",value:function(e){var t=this.state.pageTags,a=Object(Lt.a)(t),n=-1===e?a.slice(-1).pop():a[e];window.confirm(aa("tag: ".concat(n)))&&(a.splice(e,1),this.setState({pageTags:a}),this.refs.taginput.focus())}},{key:"render",value:function(){var e=this,t=this.state.pageTags,a="".concat(this.state.tagInput),n=this.props.suggestions.filter((function(e){return e.startsWith(a)}));if(!(t instanceof Array))return i.a.createElement("span",{className:"meta-error"},"Expected an array of items. Found: ",i.a.createElement("strong",null,t),i.a.createElement("br",null),i.a.createElement("span",{onClick:function(){return e.rectifyTag(t)}},"Click here"),"to correct.");var r=t.filter(Boolean).map((function(t,a){return i.a.createElement("span",{key:a,className:"tag"},t,i.a.createElement("span",{className:"delete-tag",onClick:function(){return e.deleteTag(a)}}))})),c=n.map((function(a,n){return t.includes(a)?null:i.a.createElement("li",{key:n,onClick:function(){return e.createTag(a)}},a)})).filter(Boolean),l=We()("tag-suggestions",{visible:this.state.autoSuggest});return i.a.createElement("div",{className:"tags-wrap field value-field"},r.length>0&&i.a.createElement("div",{className:"tags-list"},r),i.a.createElement("div",{className:"tags-input"},i.a.createElement("input",{type:"text",onChange:this.handleOnChange,onFocus:this.showSuggestions,onKeyUp:this.handleKeyUp,value:a.replace(/,|\s+/,""),ref:"taginput"}),i.a.createElement(vt.a,{className:"field value-field",value:this.state.pageTags.toString(),hidden:!0})),c.length>0&&i.a.createElement("div",{className:l},i.a.createElement("ul",null,c),i.a.createElement("div",{className:"close-suggestions",onClick:this.closeSuggestions},"Close suggestions")))}}]),a}(r.Component);na.defaultProps={fieldValue:[],suggestions:[]};a(571);Ut()(Ze.a);var ra=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleEditableChange=function(t){var a=e.props,n=a.nameAttr;(0,a.updateFieldValue)(n,t.target.value)},e.handleDatepickerChange=function(t,a){var n=e.props,r=n.nameAttr;(0,n.updateFieldValue)(r,Ze()(t).format("YYYY-MM-DD HH:mm:ss"))},e.handleEditableBlur=function(t){var a=e.props,n=a.nameAttr;(0,a.updateFieldValue)(n,t.target.value.trim())},e.onPickItem=function(t){var a=e.props,n=a.nameAttr,r=a.updateFieldValue;e.refs.imagepicker.value=t,r(n,t)},e.handleLayoutChange=function(t){var a=e.props,n=a.nameAttr;(0,a.updateFieldValue)(n,t)},e}return Object(d.a)(a,[{key:"renderEditable",value:function(){var e=this.props.fieldValue;return i.a.createElement(vt.a,{onChange:this.handleEditableChange,onBlur:this.handleEditableBlur,className:"field value-field",value:"".concat(e)})}},{key:"renderDatepicker",value:function(){var e=this.props.fieldValue,t=new Date(e);return"Invalid Date"==="".concat(t)&&(t=null),i.a.createElement(Nt.a,{onChange:this.handleDatepickerChange,className:"date-field",value:t})}},{key:"renderStaticFilePicker",value:function(){var e=this.props.fieldValue;return i.a.createElement("div",{className:"imagepicker"},i.a.createElement(vt.a,{onChange:this.handleEditableChange,className:"field value-field",value:e,ref:"imagepicker"}),i.a.createElement(ta,{onPick:this.onPickItem}))}},{key:"renderLayoutPicker",value:function(){var e=this.props,t=e.fieldValue,a=e.siteMeta;if(!a)return this.renderEditable();var n=a.layouts||[];return i.a.createElement(Pt.a,{className:"layout-field",data:["none"].concat(Object(Lt.a)(n)),defaultValue:t,onChange:this.handleLayoutChange})}},{key:"renderTagsInput",value:function(e){var t=this.props,a=t.fieldValue,n=t.nameAttr,r=t.updateFieldValue,c=t.siteMeta,l=c&&c[e]||[];return i.a.createElement(na,{fieldValue:a,nameAttr:n,updateFieldValue:r,suggestions:l})}},{key:"render",value:function(){var e,t=this.props,a=t.fieldKey,n=t.nameAttr;switch(a){case"date":e=this.renderDatepicker();break;case"image":case"file":e=this.renderStaticFilePicker();break;case"tags":case"categories":e=this.renderTagsInput(a);break;default:e=this.renderEditable()}return"metadata['layout']"===n&&(e=this.renderLayoutPicker()),i.a.createElement("div",{className:"meta-value"},e)}}]),a}(r.Component),ia=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={dropdown:!1},e.fieldTypes={simple:{icon:"pencil",label:"Simple"},array:{icon:"list-ol",label:"List"},object:{icon:"th-large",label:"Object"}},e.fieldTypeKeys=Object.keys(e.fieldTypes),e.toggleDropdownState=function(){e.setState((function(e){return{dropdown:!e.dropdown}}))},e}return Object(d.a)(a,[{key:"renderDropdownItems",value:function(e){var t=this,a=this.props,n=a.onConvertClick;return"tags"===a.parentKey?null:this.fieldTypeKeys.map((function(a,r){if(e!==a){var c=t.fieldTypes[a],l=c.icon,o=c.label;return i.a.createElement("span",{key:r,onMouseDown:function(){return n(a)}},i.a.createElement(Ge,{name:l}),"Convert to ",o)}return null})).filter(Boolean)}},{key:"render",value:function(){var e=this,t=this.props,a=t.currentType,n=t.parentType,r=t.onRemoveClick,c=t.isDefaultField,l=i.a.createElement("span",{className:"move"},i.a.createElement(Ge,{name:"arrows"})),o=We()("dropdown",{"showing-dropdown":this.state.dropdown});return i.a.createElement("div",{className:"meta-buttons"},"array"===n&&l,i.a.createElement("span",{className:o},i.a.createElement("a",{className:"meta-button",tabIndex:"1",onClick:this.toggleDropdownState,onBlur:function(){return e.setState({dropdown:!1})}},i.a.createElement(Ge,{name:"chevron-down"})),i.a.createElement("div",{className:"dropdown-wrap"},this.renderDropdownItems(a),i.a.createElement("span",{onMouseDown:function(){return r()},className:"remove-field"},i.a.createElement(Ge,{name:c?"undo":"trash-o"}),c?"Revert to default":"Remove field"))))}}]),a}(r.Component),ca=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"handleConvertClick",value:function(e){var t=this.props;(0,t.convertField)(t.nameAttr,e)}},{key:"handleKeyBlur",value:function(){var e=this.props,t=e.namePrefix,a=e.fieldKey,n=e.updateFieldKey,r=Object(l.findDOMNode)(this.refs.field_key).value;a!==r&&""!==r&&n(t,a,r)}},{key:"handleRemoveClick",value:function(){var e=this.props;(0,e.removeField)(e.namePrefix,e.fieldKey)}},{key:"render",value:function(){var e=this,t=this.props,a=t.type,n=t.fieldKey,r=t.fieldValue,c=t.nameAttr,l=t.addField,o=t.removeField,s=t.updateFieldKey,u=t.updateFieldValue,d=t.convertField,p=t.key_prefix,f=t.moveArrayItem,m={array:sa,object:la,simple:ra}[a];return i.a.createElement("div",{ref:"wrap",className:"object-item-wrap"},i.a.createElement("div",{className:"object-key ".concat(a)},i.a.createElement("input",{ref:"field_key",onBlur:function(t){return e.handleKeyBlur(t)},defaultValue:n,className:"field key-field",type:"text",placeholder:"Key"}),i.a.createElement(ia,{currentType:a,parentType:"object",onConvertClick:function(t){return e.handleConvertClick(t)},onRemoveClick:function(){return e.handleRemoveClick()}})),i.a.createElement("div",{className:"object-value"},i.a.createElement(m,{key_prefix:p,parentType:"object",fieldKey:n,fieldValue:r,addField:l,removeField:o,updateFieldKey:s,updateFieldValue:u,moveArrayItem:f,convertField:d,nameAttr:c,namePrefix:c})))}}]),a}(r.Component),la=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.fieldKey,a=e.fieldValue,n=e.namePrefix,r=e.addField,c=e.removeField,l=e.updateFieldKey,o=e.updateFieldValue,s=e.convertField,u=e.key_prefix,d=e.moveArrayItem,p=de.a.map(a,(function(e,t){var a=Object(_t.b)(e,t);return i.a.createElement(ca,{key:t,key_prefix:u,fieldKey:t,fieldValue:e,type:a,addField:r,removeField:c,updateFieldKey:l,updateFieldValue:o,moveArrayItem:d,convertField:s,nameAttr:"".concat(n,"['").concat(t,"']"),namePrefix:n})}));return i.a.createElement("div",{className:"meta-value-object"},p,i.a.createElement("a",{onClick:function(){return r(n)},className:"add-field-object",title:"Add new key/value pair"},"New key/value pair under ",i.a.createElement("strong",null,t)))}}]),a}(r.Component),oa=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"handleConvertClick",value:function(e){var t=this.props;(0,t.convertField)(t.nameAttr,e)}},{key:"handleRemoveClick",value:function(){var e=this.props;(0,e.removeField)(e.namePrefix,e.index)}},{key:"render",value:function(){var e=this,t=this.props,a=t.type,n=t.fieldKey,r=t.fieldValue,c=t.index,l=t.nameAttr,o=t.addField,s=t.removeField,u=t.updateFieldKey,d=t.updateFieldValue,p=t.moveArrayItem,f=t.convertField,m=t.key_prefix,h={array:sa,object:la,simple:ra}[a];return i.a.createElement("div",{ref:"wrap","data-id":c,className:"array-item-wrap"},i.a.createElement("div",{className:"array"},i.a.createElement("div",{className:"array-header"},i.a.createElement("span",{className:"array-field-num"},c+1,"."),i.a.createElement(ia,{currentType:a,parentType:"array",onConvertClick:function(t){return e.handleConvertClick(t)},onRemoveClick:function(){return e.handleRemoveClick()}})),i.a.createElement(h,{key_prefix:m,parentType:"array",fieldKey:n,fieldValue:r,addField:o,removeField:s,updateFieldKey:u,updateFieldValue:d,moveArrayItem:p,convertField:f,nameAttr:l,namePrefix:l})))}}]),a}(r.Component),sa=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"sortableGroupDecorator",value:function(e){var t=this.props,a=t.moveArrayItem,n=t.namePrefix;if(e){var r={draggable:".array-item-wrap",group:{name:"meta-array-items",pull:!1,put:!1},handle:".move",animation:0,onEnd:function(e){var t=e.item.getAttribute("data-id");a(n,t,e.newIndex)}};wt.a.create(e,r)}}},{key:"render",value:function(){var e=this.props,t=e.fieldKey,a=e.fieldValue,n=e.namePrefix,r=e.addField,c=e.removeField,l=e.updateFieldKey,o=e.updateFieldValue,s=e.moveArrayItem,u=e.convertField,d=e.key_prefix,p=a.map((function(e,a){var p=Object(_t.b)(e);return i.a.createElement(oa,{key:"".concat(d,"-").concat(a),key_prefix:d,index:a,fieldKey:t,fieldValue:e,type:p,addField:r,removeField:c,updateFieldKey:l,updateFieldValue:o,moveArrayItem:s,convertField:u,nameAttr:"".concat(n,"[").concat(a,"]"),namePrefix:n})}));return i.a.createElement("div",{className:"meta-value-array",ref:this.sortableGroupDecorator.bind(this)},p,i.a.createElement("a",{onClick:function(){return r(n)},className:"add-field-array",title:"Add new list item"},i.a.createElement(Ge,{name:"plus"})))}}]),a}(r.Component),ua=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){/New field/.test(this.props.fieldKey)&&this.refs.field_key.select()}},{key:"handleConvertClick",value:function(e){var t=this.props;(0,t.convertField)(t.nameAttr,e)}},{key:"handleKeyBlur",value:function(){var e=this.props,t=e.namePrefix,a=e.fieldKey,n=e.updateFieldKey,r=Object(l.findDOMNode)(this.refs.field_key).value;a!==r&&""!==r&&n(t,a,r)}},{key:"handleRemoveClick",value:function(){var e=this.props;(0,e.removeField)(e.namePrefix,e.fieldKey)}},{key:"render",value:function(){var e=this,t=this.props,a=t.type,n=t.parentType,r=t.fieldKey,c=t.fieldValue,l=t.namePrefix,o=t.addField,s=t.removeField,u=t.updateFieldKey,d=t.updateFieldValue,p=t.moveArrayItem,f=t.convertField,m=t.key_prefix,h=t.siteMeta,g=t.isInDefaultState,E=t.isDefaultField,v={array:sa,object:la,simple:ra}[a];return i.a.createElement("div",{ref:"wrap",className:"metafield"},i.a.createElement("div",{className:"meta-key ".concat(a)},i.a.createElement("input",{ref:"field_key",onBlur:function(){return e.handleKeyBlur()},defaultValue:r,className:"field key-field",type:"text",placeholder:"Key",disabled:g}),i.a.createElement(ia,{currentType:a,isDefaultField:E,parentType:"top",parentKey:r,onConvertClick:function(t){return e.handleConvertClick(t)},onRemoveClick:function(){return e.handleRemoveClick()}})),i.a.createElement(v,{key_prefix:m,fieldKey:r,parentType:n,fieldValue:c,addField:o,removeField:s,updateFieldKey:u,updateFieldValue:d,moveArrayItem:p,convertField:f,nameAttr:"".concat(l,"['").concat(r,"']"),namePrefix:"".concat(l,"['").concat(r,"']"),siteMeta:h,isInDefaultState:g}))}}]),a}(r.Component),da=function(e){return{type:"STORE_CONTENT_FIELDS",content:e}},pa=function(e){return{type:"ADD_METAFIELD",namePrefix:e}},fa=function(e,t){return{type:"REMOVE_METAFIELD",namePrefix:e,key:t}},ma=function(e,t){return{type:"ENABLE_FIELD",nameAttr:e,value:t}},ha=function(e,t,a){return{type:"UPDATE_FIELD_KEY",namePrefix:e,fieldKey:t,newKey:a}},ga=function(e,t){return{type:"UPDATE_FIELD_VALUE",nameAttr:e,value:t}},Ea=function(e,t,a){return{type:"MOVE_ARRAY_ITEM",namePrefix:e,srcInd:t,targetInd:a}},va=function(e,t){return{type:"CONVERT_FIELD",nameAttr:e,convertType:t}},ya=function(e){return{type:"UPDATE_TITLE",title:e}},ba=function(e){return{type:"UPDATE_BODY",body:e}},Ca=function(e){return{type:"UPDATE_PATH",path:e}};var _a=function(){return function(e){return e({type:"FETCH_SITE_META_REQUEST"}),le("".concat(y,"/site_meta"),{type:"FETCH_SITE_META_SUCCESS",name:"site"},{type:"FETCH_SITE_META_FAILURE",name:"error"},e)}};var Oa=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.storeContentFields,a=e.fields,n=e.fetchSiteMeta;e.dataview||n(),t(a)}},{key:"shouldComponentUpdate",value:function(e){return!de.a.isEqual(e.metadata,this.props.metadata)}},{key:"render",value:function(){var e=this.props,t=e.metadata,a=e.addField,n=e.enableField,r=e.removeField,c=e.updateFieldKey,l=e.updateFieldValue,o=e.moveArrayItem,s=e.convertField,u=e.key_prefix,d=e.dataview,p=e.site,f=e.staticFields,m=Object(v.a)(Object(v.a)({},f),t);d||(m=de.a.omit(m,["title","path","raw_content"]));var h=We()({datafields:d,metafields:!d}),g=de.a.omit(f,Object.keys(t)),E=de.a.map(m,(function(e,t){var m=Object(_t.b)(e,t);return g.hasOwnProperty(t)?i.a.createElement(Dt,{key:t,type:m,fieldKey:t,fieldValue:e,enableField:n}):i.a.createElement(ua,{key:t,key_prefix:u,type:m,parentType:"top",fieldKey:t,fieldValue:e,addField:a,removeField:r,updateFieldKey:c,updateFieldValue:l,moveArrayItem:o,convertField:s,nameAttr:"metadata['".concat(t,"']"),namePrefix:"metadata",siteMeta:d?null:p,isInDefaultState:g.hasOwnProperty(t),isDefaultField:f&&f.hasOwnProperty(t)})})),y=d?i.a.createElement("div",{className:"data-new"},i.a.createElement("a",{onClick:function(){return a("metadata")}},i.a.createElement(Ge,{name:"plus-circle"})," New data field")):i.a.createElement("div",{className:"meta-new"},i.a.createElement("a",{onClick:function(){return a("metadata")},className:"tooltip"},i.a.createElement(Ge,{name:"plus-circle"})," New metadata field",i.a.createElement("span",{className:"tooltip-text"},"Metadata will be stored as the ",i.a.createElement("b",null,"YAML front matter")," within the document.")),i.a.createElement("small",{className:"tooltip pull-right"},i.a.createElement(Ge,{name:"info-circle"}),"Special Keys",i.a.createElement("span",{className:"tooltip-text"},"You can use special keys like ",i.a.createElement("b",null,"date"),", ",i.a.createElement("b",null,"file"),", ",i.a.createElement("b",null,"image"),", ",i.a.createElement("b",null,"layout")," or ",i.a.createElement("b",null,"tags")," for user-friendly functionalities.")));return i.a.createElement("div",{className:h},E,y)}}]),a}(r.Component),ka=Object(o.b)((function(e){return{metadata:e.metadata.metadata,key_prefix:e.metadata.key_prefix,site:e.meta.site}}),(function(e){return Object(m.b)({storeContentFields:da,fetchSiteMeta:_a,addField:pa,enableField:ma,removeField:fa,updateFieldKey:ha,updateFieldValue:ga,moveArrayItem:Ea,convertField:va},e)}))(Oa),Fa=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(t){return e.props.onChange(t.target.value)},e}return Object(d.a)(a,[{key:"renderPathFields",value:function(e,t){return i.a.createElement("form",{className:"datafile-path"},i.a.createElement("fieldset",{className:"filename"},i.a.createElement("legend",null,"Path (without extension)"),i.a.createElement("input",{type:"text",id:"path",defaultValue:e,placeholder:"filename",onChange:this.handleChange,ref:"filepath"})),i.a.createElement("fieldset",{className:"file-type"},i.a.createElement("legend",null,"File Type"),i.a.createElement("select",{id:"extn",defaultValue:t,onChange:this.handleChange,ref:"extname"},i.a.createElement("option",{value:".yml"},"YAML"),i.a.createElement("option",{value:".json"},"JSON"))))}},{key:"render",value:function(){var e=this.props,t=e.fields,a=e.slug,n=e.ext,r=e.restricted;return i.a.createElement("div",null,i.a.createElement("div",{className:"warning"},"CAUTION! Any existing comments will be lost when editing via this view. Switch to the ",i.a.createElement("strong",null,"Raw Editor")," to preserve them."),!r&&this.renderPathFields(a,n),i.a.createElement(ka,{fields:t,dataview:!0}))}}]),a}(r.Component);Fa.defaultProps={fields:{},slug:"",ext:"",restricted:!1};var ja=Fa,Ta=a(270),Aa=a.n(Ta),Da=(a(575),a(577),a(578),function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(){var t=e.props,a=t.onEditorChange;!t.editorChanged&&a()},e}return Object(d.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return e.content!==this.props.content}},{key:"getValue",value:function(){return this.refs.ace.editor.getValue()}},{key:"render",value:function(){var e=this.props,t=e.content,a=e.type,n=/json/i.test(a)?"json":"yaml";return i.a.createElement("div",null,i.a.createElement(Aa.a,{value:t,mode:n,theme:"monokai",width:"100%",height:"400px",showGutter:!1,showPrintMargin:!1,highlightActiveLine:!1,className:"config-editor",fontSize:14,scrollMargin:[15,15,15,15],ref:"ace",onChange:this.handleChange}),i.a.createElement("div",{className:"statusbar"},"mode: ",n.toUpperCase()))}}]),a}(r.Component)),Sa=function(e){var t=e.errors;return i.a.createElement("div",{className:"error-messages"},de.a.map(t,(function(e,t){return i.a.createElement("div",{key:t},e)})))},wa=ae.labels,La={create:"plus-square",delete:"trash",publish:"send-o",save:"save",upload:"upload",view:"eye"};function Ia(e){var t,a,n=e.type,r=e.active,c=e.triggered,l=e.onClick,o=e.block,s=e.thin,u=e.icon,d=e.to,p=We()("btn",{"btn-active":r,"btn-success":r&&("save"===n||"create"===n),"btn-delete":"delete"===n,"btn-view":"view"===n||"publish"===n,"btn-inactive":!r,"btn-fat":o,"btn-thin":s});switch(n){case"save":case"create":t=wa[n].label,a=wa[n].triggeredLabel;break;case"view-toggle":t=wa.viewToggle.label,a=wa.viewToggle.triggeredLabel;break;case"view":case"delete":case"upload":case"publish":t=wa[n].label;break;default:t="<LABEL>",a="<NEXT LABEL>"}var f=u||La[n],m=f&&i.a.createElement(Ge,{name:f});return d?i.a.createElement("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:p},m,t):l?i.a.createElement("button",{onClick:l,className:p},m,c?a:t):null}var Na=ae.getLeaveMessage,Ra=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={guiView:!1},e.routerWillLeave=function(t){var a=e.props,n=a.editorChanged,r=a.fieldChanged;if(n||r)return Na()},e.toggleView=function(){e.setState((function(e){return{guiView:!e.guiView}}))},e.handleClickSave=function(t){we(t);var a=e.props,n=a.editorChanged,r=a.fieldChanged,i=a.putConfig;n?i(e.refs.editor.getValue()):r&&i(null,"gui")},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.router,a=e.route;t.setRouteLeaveHook(a,this.routerWillLeave)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.clearErrors;e.errors.length&&t()}},{key:"renderContentBody",value:function(){var e=this.props,t=e.config,a=e.editorChanged,n=e.onEditorChange,r=t.raw_content,c=t.content;return this.state.guiView&&c?i.a.createElement(ja,{fields:c,onChange:n,restricted:!0}):i.a.createElement(Da,{editorChanged:a,onEditorChange:n,content:r,ref:"editor"})}},{key:"render",value:function(){var e=this.props,t=e.editorChanged,a=e.fieldChanged,n=e.updated,r=e.errors,c={save:this.handleClickSave};return i.a.createElement(E.a,{title:"Configuration"},i.a.createElement(h.HotKeys,{handlers:c,className:"single"},r&&r.length>0&&i.a.createElement(Sa,{errors:r}),i.a.createElement("div",{className:"content-header"},i.a.createElement("h1",null,"Configuration"),i.a.createElement("div",{className:"page-buttons multiple"},i.a.createElement(Ia,{onClick:this.toggleView,type:"view-toggle",triggered:this.state.guiView,active:!0,block:!0}),i.a.createElement(Ia,{onClick:this.handleClickSave,type:"save",active:t||a,triggered:n,block:!0}))),i.a.createElement("div",{className:"content-body"},this.renderContentBody())))}}]),a}(r.Component),Pa=Object(s.withRouter)(Object(o.b)((function(e){return{config:e.config.config,updated:e.config.updated,editorChanged:e.config.editorChanged,fieldChanged:e.metadata.fieldChanged,errors:e.utils.errors}}),(function(e){return Object(m.b)({putConfig:xe,onEditorChange:He,clearErrors:Ce},e)}))(Ra)),Ma=ae.getDeleteMessage,Ua=ae.getNotFoundMessage,xa=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"handleClickDelete",value:function(e){var t=this.props,a=t.deleteItem,n=t.params,r=t.type,i=window.confirm(Ma(e)),c=n.splat?"/".concat(n.splat):"";i&&(a(n.splat,e),s.browserHistory.push("".concat("/admin","/").concat(r).concat(c)))}},{key:"renderTitleCell",value:function(e,t,a,n){return i.a.createElement("td",{className:"row-title"},i.a.createElement("strong",null,i.a.createElement(s.Link,{to:"".concat("/admin","/").concat(a,"/").concat(n)},i.a.createElement(Ge,{name:t}),e)))}},{key:"renderDirectoryRow",value:function(e,t,a){var n=e.name,r=e.relative_path;return i.a.createElement("tr",{key:a},this.renderTitleCell(n,"folder",t,r),i.a.createElement("td",null))}},{key:"renderFileRow",value:function(e,t,a){var n=this,r=e.name,c=e.relative_path,l=e.http_url;return i.a.createElement("tr",{key:a},this.renderTitleCell(r,"file-text-o",t,c),i.a.createElement("td",null,i.a.createElement("div",{className:"row-actions"},i.a.createElement(Ia,{onClick:function(){return n.handleClickDelete(r)},type:"delete",active:!0,thin:!0}),l&&i.a.createElement(Ia,{to:l,type:"view",active:!0,thin:!0}))))}},{key:"renderRows",value:function(){var e=this,t=this.props,a=t.items,n=t.type;return a.map((function(t,a){return"directory"===t.type?e.renderDirectoryRow(t,n,a):e.renderFileRow(t,n,a)}))}},{key:"render",value:function(){var e=this.props,t=e.items,a=e.type,n=e.newBtnLabel,r=e.search,c=e.params,l="datafiles"===a?"data files":a,o=c.splat?"".concat("/admin","/").concat(a,"/").concat(c.splat,"/new"):"".concat("/admin","/").concat(a,"/new"),u=t.length?i.a.createElement("div",{className:"content-table"},i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Filename"),i.a.createElement("th",{className:"th-actions"},"Actions"))),i.a.createElement("tbody",null,this.renderRows()))):i.a.createElement("h1",null,Ua(l));return i.a.createElement("div",null,i.a.createElement("div",{className:"content-header"},i.a.createElement(Kt,{type:a,splat:c.splat}),i.a.createElement("div",{className:"page-buttons"},i.a.createElement(s.Link,{className:"btn btn-active",to:o},n)),i.a.createElement("div",{className:"pull-right"},i.a.createElement(Gt,{searchBy:"filename",search:r}))),u)}}]),a}(r.Component),Ba=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){return t({type:"FETCH_PAGES_REQUEST"}),le(C(e),{type:"FETCH_PAGES_SUCCESS",name:"pages"},{type:"FETCH_PAGES_FAILURE",name:"error"},t)}},Ha=function(e,t){return function(a){return a({type:"FETCH_PAGE_REQUEST"}),le(_(e,t),{type:"FETCH_PAGE_SUCCESS",name:"page"},{type:"FETCH_PAGE_FAILURE",name:"error"},a)}},Va=function(e){return function(t,a){var n=a().metadata.metadata,r=n.path,i=n.raw_content,c=n.title;if(r&&"".concat(r,"/")!==e||!c){var l=ge(n);if(l.length)return t(_e(l))}else r="".concat(Ae(c),".md");t({type:"CLEAR_ERRORS"});var o=Re(n);return oe(_(e,r),Pe({front_matter:o,raw_content:i}),{type:"PUT_PAGE_SUCCESS",name:"page"},{type:"PUT_PAGE_FAILURE",name:"error"},t)}},Ka=function(e,t){return function(a,n){var r=n().metadata.metadata,i=r.path,c=r.raw_content,l=r.title;if(i&&"".concat(i,"/")!==e||!l){var o=ge(r);if(o.length)return a(_e(o))}else i="".concat(Ae(l),".md");a({type:"CLEAR_ERRORS"});var s=Re(r),u=e?"".concat(e,"/").concat(i):i;return oe(_(e,t),Pe({path:u,front_matter:s,raw_content:c}),{type:"PUT_PAGE_SUCCESS",name:"page"},{type:"PUT_PAGE_FAILURE",name:"error"},a)}},Ga=function(e,t){return function(a){var n=Ne(e,t);return se(_(e,t),{type:"DELETE_PAGE_SUCCESS",name:"page",id:n},{type:"DELETE_PAGE_FAILURE",name:"error"},a)}};var Qa=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.fetchPages)(e.params.splat)}},{key:"componentWillReceiveProps",value:function(e){var t=e.fetchPages;this.props.params.splat!==e.params.splat&&t(e.params.splat)}},{key:"render",value:function(){var e=this.props,t=e.isFetching,a=e.pages,n=e.search,r=e.params,c=e.deletePage;if(t)return null;var l=Ie("pages",r.splat);return i.a.createElement(E.a,{title:l},i.a.createElement(xa,{type:"pages",items:a,params:r,newBtnLabel:"New page",search:n,deleteItem:c}))}}]),a}(r.Component),Wa=Object(o.b)((function(e){return{pages:ve(e.pages.pages,e.utils.input),isFetching:e.pages.isFetching}}),(function(e){return Object(m.b)({fetchPages:Ba,deletePage:Ga,search:be},e)}))(Qa),Ya=a(25),qa=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(t){var a=e.props.onChange;e.refs.input.value=t.target.value,a(t.target.value)},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.path,a=e.type,n="example.md";if("posts"===a){var r=Ze()().format("YYYY-MM-DD");n="".concat(r,"-your-title.md")}else"data files"===a&&(n="your-filename.yml");var c=null;return"data files"!==a&&(c=i.a.createElement("span",{className:"tooltip"},i.a.createElement(Ge,{name:"info-circle"}),i.a.createElement("span",{className:"tooltip-text"},"If you leave ",i.a.createElement("b",null,"path")," blank, it will be autogenerated from title."))),i.a.createElement("div",{className:"input-path"},i.a.createElement("label",null,"Path ",c),i.a.createElement(vt.a,{key:t,onChange:this.handleChange,placeholder:n,defaultValue:t,ref:"input"}))}}]),a}(r.Component),za=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(t){(0,e.props.onChange)(t.target.value)},e}return Object(d.a)(a,[{key:"shouldComponentUpdate",value:function(e){return e.title!==this.props.title}},{key:"render",value:function(){var e=this.props.title;return i.a.createElement("div",{className:"input-title"},i.a.createElement("label",null,"Title"),i.a.createElement(vt.a,{onChange:this.handleChange,placeholder:"Title",defaultValue:e,ref:"input"}))}}]),a}(r.Component),Za=a(276),Ja=a(271),Xa=a.n(Ja),$a=a(6),en=a.n($a);en.a.registerLanguage("actionscript",a(590)),en.a.registerLanguage("apache",a(591)),en.a.registerLanguage("applescript",a(592)),en.a.registerLanguage("asciidoc",a(593)),en.a.registerLanguage("bash",a(594)),en.a.registerLanguage("basic",a(595)),en.a.registerLanguage("clojure",a(596)),en.a.registerLanguage("clojure-repl",a(597)),en.a.registerLanguage("cmake",a(598)),en.a.registerLanguage("coffeescript",a(599)),en.a.registerLanguage("cpp",a(600)),en.a.registerLanguage("crystal",a(601)),en.a.registerLanguage("css",a(602)),en.a.registerLanguage("dart",a(603)),en.a.registerLanguage("diff",a(604)),en.a.registerLanguage("django",a(605)),en.a.registerLanguage("dns",a(606)),en.a.registerLanguage("dockerfile",a(607)),en.a.registerLanguage("dos",a(608)),en.a.registerLanguage("dsconfig",a(609)),en.a.registerLanguage("elixir",a(610)),en.a.registerLanguage("elm",a(611)),en.a.registerLanguage("erb",a(612)),en.a.registerLanguage("erlang-repl",a(613)),en.a.registerLanguage("erlang",a(614)),en.a.registerLanguage("excel",a(615)),en.a.registerLanguage("fortran",a(616)),en.a.registerLanguage("fsharp",a(617)),en.a.registerLanguage("gherkin",a(618)),en.a.registerLanguage("go",a(619)),en.a.registerLanguage("gradle",a(620)),en.a.registerLanguage("groovy",a(621)),en.a.registerLanguage("haml",a(622)),en.a.registerLanguage("handlebars",a(623)),en.a.registerLanguage("haskell",a(624)),en.a.registerLanguage("htmlbars",a(625)),en.a.registerLanguage("http",a(626)),en.a.registerLanguage("ini",a(627)),en.a.registerLanguage("java",a(628)),en.a.registerLanguage("javascript",a(629)),en.a.registerLanguage("json",a(630)),en.a.registerLanguage("julia",a(631)),en.a.registerLanguage("julia-repl",a(632)),en.a.registerLanguage("kotlin",a(633)),en.a.registerLanguage("ldif",a(634)),en.a.registerLanguage("less",a(635)),en.a.registerLanguage("lisp",a(636)),en.a.registerLanguage("livescript",a(637)),en.a.registerLanguage("lua",a(638)),en.a.registerLanguage("makefile",a(639)),en.a.registerLanguage("markdown",a(640)),en.a.registerLanguage("mathematica",a(641)),en.a.registerLanguage("matlab",a(642)),en.a.registerLanguage("perl",a(643)),en.a.registerLanguage("nginx",a(644)),en.a.registerLanguage("nix",a(645)),en.a.registerLanguage("objectivec",a(646)),en.a.registerLanguage("ocaml",a(647)),en.a.registerLanguage("pgsql",a(648)),en.a.registerLanguage("php",a(649)),en.a.registerLanguage("plaintext",a(650)),en.a.registerLanguage("powershell",a(651)),en.a.registerLanguage("prolog",a(652)),en.a.registerLanguage("python",a(653)),en.a.registerLanguage("r",a(654)),en.a.registerLanguage("reasonml",a(655)),en.a.registerLanguage("ruby",a(656)),en.a.registerLanguage("rust",a(657)),en.a.registerLanguage("scala",a(658)),en.a.registerLanguage("scss",a(659)),en.a.registerLanguage("shell",a(660)),en.a.registerLanguage("smalltalk",a(661)),en.a.registerLanguage("sql",a(662)),en.a.registerLanguage("swift",a(663)),en.a.registerLanguage("typescript",a(664)),en.a.registerLanguage("vbnet",a(665)),en.a.registerLanguage("vbscript",a(666)),en.a.registerLanguage("vim",a(667)),en.a.registerLanguage("yaml",a(668)),en.a.registerLanguage("xml",a(669));var tn=en.a,an=["editor-toolbar","CodeMirror","editor-preview-side","editor-statusbar"],nn=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r)))._replaceSelectedText=function(e,t,a){var n=e.getCursor("start"),r=e.getCursor("end"),i=e.getSelection(),c=Object(Za.a)(t,2),l=c[0],o=c[1];a&&(o=o.replace("#url#",a)),e.replaceSelection("".concat(l).concat(i).concat(o)),n.ch+=l.length,n!==r&&(r.ch+=l.length),e.setSelection(n,r),e.focus()},e.handleFilePick=function(t){var a=e.editor,n=a.codemirror,r=a.options.insertTexts,i=r.image,c=r.link,l="{{ '".concat(t,"' | relative_url }}"),o=Se(t),s=/png|jpg|gif|jpeg|svg|ico/i.test(o)?i:c;e._replaceSelectedText(n,s,l)},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.create(),window.hljs=tn}},{key:"shouldComponentUpdate",value:function(e){return e.initialValue!==this.props.initialValue}},{key:"componentDidUpdate",value:function(){this.destroy(),this.create()}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"create",value:function(){var e=this,t=this.props,a=t.onChange,n=t.onSave,r=Object.create(this.props);r.element=this.refs.text,r.autoDownloadFontAwesome=!1,r.spellChecker=!1,r.renderingConfig={codeSyntaxHighlighting:!0},r.insertTexts={image:["![","](#url#)"]};var i=["bold","italic","heading","|","code","quote","unordered-list","ordered-list","|","link","image","table",{name:"filepicker",action:function(){return e.refs.filepicker.refs.trigger.click()},className:"fa fa-paperclip",title:"Insert Static File"},"|","preview","side-by-side","fullscreen","|"];n&&i.push({name:"save",action:n,className:"fa fa-floppy-o",title:"Save"}),r.toolbar=i;var c=new Xa.a(r);c.codemirror&&c.codemirror.on("change",(function(){a(c.value())})),this.editor=c}},{key:"destroy",value:function(){for(var e in an){var t=this.refs.container.querySelector("."+an[e]);t&&t.remove()}}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{style:{display:"none"}},i.a.createElement(ta,{ref:"filepicker",onPick:this.handleFilePick})),i.a.createElement("div",{ref:"container"},i.a.createElement("textarea",{ref:"text"})))}}]),a}(r.Component);function rn(e){var t=e.type,a=e.path,n=e.body,r=e.title,c=e.onSave,l=e.updateTitle,o=e.updatePath,s=e.updateBody,u=e.metafields,d=e.staticmetafields;return i.a.createElement("div",{className:"content-body"},i.a.createElement(qa,{onChange:o,type:t,path:a}),i.a.createElement(za,{onChange:l,title:r}),i.a.createElement(nn,{onChange:s,onSave:c,placeholder:"Body",initialValue:n}),i.a.createElement(Ke,null),i.a.createElement(ka,{fields:u,staticFields:d}))}rn.defaultProps={path:"",body:"",title:"",metafields:{},staticmetafields:{}};var cn=ae.getLeaveMessage,ln=ae.getDeleteMessage,on=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).routerWillLeave=function(t){if(e.props.fieldChanged)return cn()},e.handleClickSave=function(t){we(t);var a=e.props,n=a.putPage,r=a.fieldChanged,i=a.params;if(r){var c=Object(Ya.a)(i.splat);n(c[0],c.slice(1).join("."))}},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchPage,a=e.params,n=e.router,r=e.route,i=Object(Ya.a)(a.splat);t(i[0],i.slice(1).join(".")),n.setRouteLeaveHook(r,this.routerWillLeave)}},{key:"componentWillReceiveProps",value:function(e){if(this.props.updated!==e.updated){var t=e.page.path;t!==this.props.page.path&&s.browserHistory.push("".concat("/admin","/pages/").concat(t))}}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.clearErrors;e.errors.length&&t()}},{key:"handleClickDelete",value:function(e){var t=this.props,a=t.deletePage,n=t.params;if(window.confirm(ln(e))){var r=Object(Ya.a)(n.splat),i=r[0];a(i,r.slice(1).join(".")),s.browserHistory.push("".concat("/admin","/pages/").concat(i||""))}}},{key:"render",value:function(){var e=this,t=this.props,a=t.isFetching,n=t.page,r=t.errors,c=t.updateTitle,l=t.updateBody,o=t.updatePath,s=t.updated,u=t.fieldChanged,d=t.params;if(a)return null;if(de.a.isEmpty(n))return i.a.createElement("h1",null,"Could not find the page.");var p={save:this.handleClickSave},f=n.name,m=n.raw_content,g=n.http_url,y=n.front_matter,b=n.front_matter_defaults,C=d.splat[0],_=y&&y.title?y.title:"",O=Ie("pages",C,_||f);return i.a.createElement(E.a,{title:O},i.a.createElement(h.HotKeys,{handlers:p,className:"single"},r.length>0&&i.a.createElement(Sa,{errors:r}),i.a.createElement("div",{className:"content-header"},i.a.createElement(Kt,{type:"pages",splat:C})),i.a.createElement("div",{className:"content-wrapper"},i.a.createElement(rn,{type:"pages",updateTitle:c,updatePath:o,updateBody:l,onSave:this.handleClickSave,path:f,title:_,body:m,metafields:Object(v.a)({title:_,raw_content:m,path:f},y),staticmetafields:b}),i.a.createElement("div",{className:"content-side"},i.a.createElement(Ia,{onClick:this.handleClickSave,type:"save",active:u,triggered:s,block:!0}),i.a.createElement(Ia,{to:g,type:"view",active:!0,block:!0}),i.a.createElement(Ke,null),i.a.createElement(Ia,{onClick:function(){return e.handleClickDelete(f)},type:"delete",active:!0,block:!0})))))}}]),a}(r.Component),sn=Object(s.withRouter)(Object(o.b)((function(e){return{page:e.pages.page,isFetching:e.pages.isFetching,fieldChanged:e.metadata.fieldChanged,updated:e.pages.updated,errors:e.utils.errors}}),(function(e){return Object(m.b)({fetchPage:Ha,deletePage:Ga,putPage:Ka,updateTitle:ya,updateBody:ba,updatePath:Ca,clearErrors:Ce},e)}))(on));function un(e){var t=e.type,a=e.config,n=e.errors,r=e.updated,c=e.updateBody,l=e.updatePath,o=e.updateTitle,s=e.fieldChanged,u=e.onClickSave,d=e.params.splat,p="drafts"===t?"posts":t;return i.a.createElement(h.HotKeys,{handlers:{save:u}},n.length>0&&i.a.createElement(Sa,{errors:n}),i.a.createElement("div",{className:"content-header"},i.a.createElement(Kt,{type:t,splat:d})),i.a.createElement("div",{className:"content-wrapper"},i.a.createElement(rn,{type:t,updatePath:l,updateTitle:o,updateBody:c,onSave:u,staticmetafields:Object(_t.d)(a,d,p)}),i.a.createElement("div",{className:"content-side"},i.a.createElement(Ia,{onClick:u,type:"create",active:s,triggered:r,block:!0}))))}var dn=ae.getLeaveMessage,pn=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).routerWillLeave=function(t){if(e.props.fieldChanged)return dn()},e.handleClickSave=function(t){we(t);var a=e.props,n=a.fieldChanged,r=a.createPage,i=a.params;n&&r(i.splat)},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.router,a=e.route;t.setRouteLeaveHook(a,this.routerWillLeave)}},{key:"componentWillReceiveProps",value:function(e){this.props.updated!==e.updated&&s.browserHistory.push("".concat("/admin","/pages/").concat(e.page.path))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.clearErrors;e.errors.length&&t()}},{key:"render",value:function(){var e=this.props,t=e.params,a=e.config,n=e.errors,r=e.updated,c=e.updateBody,l=e.updatePath,o=e.updateTitle,s=e.fieldChanged,u=Ie("pages",t.splat,"New page");return i.a.createElement(E.a,{title:u},i.a.createElement(un,{type:"pages",params:t,config:a,errors:n,updated:r,updateBody:c,updatePath:l,updateTitle:o,fieldChanged:s,onClickSave:this.handleClickSave}))}}]),a}(r.Component),fn=Object(s.withRouter)(Object(o.b)((function(e){return{page:e.pages.page,fieldChanged:e.metadata.fieldChanged,errors:e.utils.errors,updated:e.pages.updated,config:e.config.config}}),(function(e){return Object(m.b)({updateTitle:ya,updateBody:ba,updatePath:Ca,createPage:Va,clearErrors:Ce},e)}))(pn)),mn=ae.getDeleteMessage,hn=ae.getNotFoundMessage,gn=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchCollection,a=e.params;t(a.collection_name,a.splat)}},{key:"componentWillReceiveProps",value:function(e){var t=e.fetchCollection,a=e.params;a.splat===this.props.params.splat&&a.collection_name===this.props.params.collection_name||t(a.collection_name,a.splat)}},{key:"handleClickDelete",value:function(e){var t=this.props,a=t.deleteDocument,n=t.params;window.confirm(mn(e))&&a(n.collection_name,n.splat,e)}},{key:"renderTable",value:function(){return i.a.createElement("div",{className:"content-table"},i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Name"),i.a.createElement("th",null,"Date"),i.a.createElement("th",{className:"th-actions"},"Actions"))),i.a.createElement("tbody",null,this.renderRows())))}},{key:"renderFileRow",value:function(e){var t=this,a=e.id,n=e.name,r=e.title,c=e.http_url,l=e.collection,o=e.relative_path,u="".concat("/admin","/collections/").concat(l,"/").concat(o),d=e.date.substring(0,e.date.lastIndexOf(" "));return d="12:00:00"===Ze()(d).format("hh:mm:ss")?Ze()(d).format("ll"):Ze()(d).format("lll"),i.a.createElement("tr",{key:a},i.a.createElement("td",{className:"row-title"},i.a.createElement("strong",null,i.a.createElement(s.Link,{to:u},i.a.createElement(Ge,{name:"file-text-o"}),r||n))),i.a.createElement("td",null,d),i.a.createElement("td",null,i.a.createElement("div",{className:"row-actions"},i.a.createElement(Ia,{onClick:function(){return t.handleClickDelete(n)},type:"delete",active:!0,thin:!0}),c&&i.a.createElement(Ia,{to:c,type:"view",active:!0,thin:!0}))))}},{key:"renderDirectoryRow",value:function(e){var t=this.props.params.collection_name,a=e.name,n=e.relative_path,r=e.modified_time,c="".concat("/admin","/collections/").concat(t,"/").concat(n),l=r.substring(0,r.lastIndexOf(" "));return l=Ze()(l).format("ll"),i.a.createElement("tr",{key:a},i.a.createElement("td",{className:"row-title"},i.a.createElement("strong",null,i.a.createElement(s.Link,{to:c},i.a.createElement(Ge,{name:"folder"}),a))),i.a.createElement("td",null,l),i.a.createElement("td",null))}},{key:"renderRows",value:function(){var e=this,t=this.props.documents;return de.a.map(t,(function(t){return t.type&&"directory"===t.type?e.renderDirectoryRow(t):e.renderFileRow(t)}))}},{key:"render",value:function(){var e=this.props,t=e.isFetching,a=e.documents,n=e.search,r=e.params,c=r.collection_name;if(t)return null;var l=r.splat||"",o=r.splat?"".concat("/admin","/collections/").concat(c,"/").concat(l,"/new"):"".concat("/admin","/collections/").concat(c,"/new"),u=Ie(c,r.splat);return i.a.createElement(E.a,{title:u},i.a.createElement("div",null,i.a.createElement("div",{className:"content-header"},i.a.createElement(Kt,{type:c,splat:l}),i.a.createElement("div",{className:"page-buttons"},i.a.createElement(s.Link,{className:"btn btn-active",to:o},"posts"===c?"New post":"New document")),i.a.createElement("div",{className:"pull-right"},i.a.createElement(Gt,{searchBy:"title",search:n}))),a.length>0&&this.renderTable(),!a.length&&i.a.createElement("h1",null,hn("documents"))))}}]),a}(r.Component),En=Object(o.b)((function(e){return{documents:(t=e.collections.entries,a=e.utils.input,a?t.filter((function(e){return(e.title||e.name).toLowerCase().includes(a.toLowerCase())})):t),isFetching:e.collections.isFetching};var t,a}),(function(e){return Object(m.b)({fetchCollection:tt,deleteDocument:it,search:be},e)}))(gn),vn=ae.getLeaveMessage,yn=ae.getDeleteMessage,bn=ae.getNotFoundMessage,Cn=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).routerWillLeave=function(t){if(e.props.fieldChanged)return vn()},e.handleClickSave=function(t){we(t);var a=e.props,n=a.putDocument,r=a.fieldChanged,i=a.params;if(r){var c=i.collection_name,l=Object(Ya.a)(i.splat);n(c,l[0],l.slice(1).join("."))}},e.handleClickDelete=function(){var t=e.props,a=t.deleteDocument,n=t.params,r=Object(Ya.a)(n.splat),i=r[0],c=r.slice(1).join(".");if(window.confirm(yn(c))){var l=n.collection_name;a(l,i,c),s.browserHistory.push("".concat("/admin","/collections/").concat(l,"/").concat(i||""))}},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchDocument,a=e.params,n=e.router,r=e.route,i=Object(Ya.a)(a.splat),c=i[0],l=i.slice(1).join(".");t(a.collection_name,c,l),n.setRouteLeaveHook(r,this.routerWillLeave)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.currentDocument;if(this.props.updated!==e.updated){var a=e.currentDocument.path;a!==t.path&&s.browserHistory.push("".concat("/admin","/collections/").concat(a.substring(1)))}}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.clearErrors;e.errors.length&&t()}},{key:"render",value:function(){var e=this.props,t=e.isFetching,a=e.currentDocument,n=e.errors,r=e.updateTitle,c=e.updateBody,l=e.updatePath,o=e.updated,s=e.fieldChanged,u=e.params;if(t)return null;if(de.a.isEmpty(a))return i.a.createElement("h1",null,bn("document"));var d=a.title,p=a.raw_content,f=a.http_url,m=a.collection,g=a.front_matter,y=a.front_matter_defaults,b=a.name,C=u.splat[0],_={save:this.handleClickSave},O=Ie(m,C,d);return i.a.createElement(E.a,{title:O},i.a.createElement(h.HotKeys,{handlers:_,className:"single"},n.length>0&&i.a.createElement(Sa,{errors:n}),i.a.createElement("div",{className:"content-header"},i.a.createElement(Kt,{type:m,splat:C})),i.a.createElement("div",{className:"content-wrapper"},i.a.createElement(rn,{type:m,path:b,title:d,body:p,updatePath:l,updateTitle:r,updateBody:c,onSave:this.handleClickSave,metafields:Object(v.a)({title:d,path:b,raw_content:p},g),staticmetafields:y}),i.a.createElement("div",{className:"content-side"},i.a.createElement(Ia,{onClick:this.handleClickSave,type:"save",active:s,triggered:o,block:!0}),i.a.createElement(Ia,{to:f,type:"view",active:!0,block:!0}),i.a.createElement(Ke,null),i.a.createElement(Ia,{onClick:this.handleClickDelete,type:"delete",active:!0,block:!0})))))}}]),a}(r.Component),_n=Object(s.withRouter)(Object(o.b)((function(e){return{currentDocument:e.collections.currentDocument,isFetching:e.collections.isFetching,fieldChanged:e.metadata.fieldChanged,updated:e.collections.updated,errors:e.utils.errors}}),(function(e){return Object(m.b)({fetchDocument:at,deleteDocument:it,putDocument:rt,updateTitle:ya,updateBody:ba,updatePath:Ca,clearErrors:Ce},e)}))(Cn)),On=ae.getLeaveMessage,kn=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).routerWillLeave=function(t){if(e.props.fieldChanged)return On()},e.handleClickSave=function(t){we(t);var a=e.props,n=a.fieldChanged,r=a.createDocument,i=a.params;n&&r(i.collection_name,i.splat)},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.router,a=e.route;t.setRouteLeaveHook(a,this.routerWillLeave)}},{key:"componentWillReceiveProps",value:function(e){if(this.props.updated!==e.updated){var t=e.currentDocument.path,a=t.substr(t.indexOf("/")+1,t.length);s.browserHistory.push("".concat("/admin","/collections/").concat(e.currentDocument.collection,"/").concat(a))}}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.clearErrors;e.errors.length&&t()}},{key:"render",value:function(){var e=this.props,t=e.params,a=e.config,n=e.errors,r=e.updated,c=e.updateBody,l=e.updatePath,o=e.updateTitle,s=e.fieldChanged,u=t.collection_name,d=Ie(u,t.splat,"New document");return i.a.createElement(E.a,{title:d},i.a.createElement(un,{type:u,params:t,config:a,errors:n,updated:r,updateBody:c,updatePath:l,updateTitle:o,fieldChanged:s,onClickSave:this.handleClickSave}))}}]),a}(r.Component),Fn=Object(s.withRouter)(Object(o.b)((function(e){return{currentDocument:e.collections.currentDocument,fieldChanged:e.metadata.fieldChanged,errors:e.utils.errors,updated:e.collections.updated,config:e.config.config}}),(function(e){return Object(m.b)({updateTitle:ya,updateBody:ba,updatePath:Ca,createDocument:nt,clearErrors:Ce},e)}))(kn)),jn=ae.getContentRequiredMessage,Tn=ae.getFilenameRequiredMessage,An=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){return t({type:"FETCH_DATAFILES_REQUEST"}),le(T(e),{type:"FETCH_DATAFILES_SUCCESS",name:"files"},{type:"FETCH_DATAFILES_FAILURE",name:"error"},t)}},Dn=function(e,t){return function(a){return a({type:"FETCH_DATAFILE_REQUEST"}),le(A(e,t),{type:"FETCH_DATAFILE_SUCCESS",name:"file"},{type:"FETCH_DATAFILE_FAILURE",name:"error"},a)}},Sn=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"editor";return function(i,c){var l=Se(n||t);if("gui"===r){var o=/json/i.test(l),s=c().metadata.metadata;s=Le(s),a=o?JSON.stringify(s,null,2):Fe(s)}var u=n?{path:n,raw_content:a}:{raw_content:a},d=In(t,a);return d.length?i(_e(d)):(i({type:"CLEAR_ERRORS"}),oe(A(e,t),JSON.stringify(u),{type:"PUT_DATAFILE_SUCCESS",name:"file"},{type:"PUT_DATAFILE_FAILURE",name:"error"},i))}},wn=function(e,t){return function(a){var n=Ne(e,t);return se(A(e,t),{type:"DELETE_DATAFILE_SUCCESS",name:"file",id:n},{type:"DELETE_DATAFILE_FAILURE",name:"error"},a)}},Ln=function(){return{type:"DATAFILE_CHANGED"}},In=function(e,t){return Ee({filename:e,data:t},{filename:"required",data:"required"},{"filename.required":Tn(),"data.required":jn()})};var Nn=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.fetchDataFiles)(e.params.splat)}},{key:"componentWillReceiveProps",value:function(e){var t=e.fetchDataFiles;this.props.params.splat!==e.params.splat&&t(e.params.splat)}},{key:"render",value:function(){var e=this.props,t=e.isFetching,a=e.files,n=e.search,r=e.params,c=e.deleteDataFile;if(t)return null;var l=Ie("data files",r.splat);return i.a.createElement(E.a,{title:l},i.a.createElement(xa,{type:"datafiles",items:a,params:r,newBtnLabel:"New data file",search:n,deleteItem:c}))}}]),a}(r.Component),Rn=Object(o.b)((function(e){return{files:ve(e.datafiles.files,e.utils.input),isFetching:e.datafiles.isFetching}}),(function(e){return Object(m.b)({fetchDataFiles:An,deleteDataFile:wn,search:be},e)}))(Nn),Pn=ae.getLeaveMessage,Mn=ae.getDeleteMessage,Un=ae.getNotFoundMessage,xn=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={guiView:!1},e.routerWillLeave=function(t){var a=e.props,n=a.datafileChanged,r=a.fieldChanged;if(n||r)return Pn()},e.toggleView=function(){e.setState((function(e){return{guiView:!e.guiView}}))},e.handleClickSave=function(t){we(t);var a,n,r,i=e.props,c=i.datafile,l=i.datafileChanged,o=i.fieldChanged,s=i.putDataFile,u=i.params,d=c.path,p=c.relative_path,f=d.replace(p,""),m=Object(Ya.a)(u.splat),h=m[0],g=m.slice(1).join(".");if(l||o){if(e.state.guiView){var E=e.refs.gui.refs,v=E.filepath,y=E.extname;a=v.value+y.value,n=null,r="gui"}else{var b=e.refs.inputpath.refs.input;a=b.value||b.props.defaultValue,n=e.refs.editor.getValue(),r="editor"}var C=h?f+"".concat(h,"/")+a:f+a;s(h,g,n,C!==d?C:"",r)}},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchDataFile,a=e.params,n=e.router,r=e.route,i=Object(Ya.a)(a.splat),c=i[0],l=i.slice(1).join(".");n.setRouteLeaveHook(r,this.routerWillLeave),t(c,l)}},{key:"componentWillReceiveProps",value:function(e){this.props.updated!==e.updated&&(e.datafile.path!==this.props.datafile.path&&s.browserHistory.push("".concat("/admin","/datafiles/").concat(e.datafile.relative_path)))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.clearErrors;e.errors.length&&t()}},{key:"handleClickDelete",value:function(e){var t=this.props,a=t.deleteDataFile,n=t.params;if(window.confirm(Mn(e))){var r=n.splat[0];a(r,De(e));var i=r?"/".concat(r):"";s.browserHistory.push("".concat("/admin","/datafiles").concat(i))}}},{key:"renderAside",value:function(){var e=this,t=this.props,a=t.datafile,n=t.datafileChanged,r=t.fieldChanged,c=t.updated,l=a.path,o=De(l),s=Se(l),u=/ya?ml|json/i.test(s);return i.a.createElement("div",{className:"content-side"},i.a.createElement(Ia,{onClick:this.handleClickSave,type:"save",active:n||r,triggered:c,block:!0}),u&&i.a.createElement(Ia,{onClick:this.toggleView,type:"view-toggle",triggered:this.state.guiView,active:!0,block:!0}),i.a.createElement(Ke,null),i.a.createElement(Ia,{onClick:function(){return e.handleClickDelete(o)},type:"delete",active:!0,block:!0}))}},{key:"renderContentBody",value:function(e){var t=this.props,a=t.datafile,n=t.datafileChanged,r=t.onDataFileChanged,c=a.raw_content,l=a.content,o=a.slug,s=a.ext,u=this.state.guiView;return u&&l?i.a.createElement("div",{className:"content-body"},i.a.createElement(ja,{fields:l,slug:o,ext:s,onChange:r,ref:"gui"})):!u&&c?i.a.createElement("div",{className:"content-body"},i.a.createElement(qa,{onChange:r,type:"data files",path:e,ref:"inputpath"}),i.a.createElement(Da,{editorChanged:n,onEditorChange:r,content:c,type:s,ref:"editor"})):void 0}},{key:"render",value:function(){var e=this.props,t=e.datafile,a=e.isFetching,n=e.params,r=e.errors;if(a)return null;if(de.a.isEmpty(t.content))return i.a.createElement("h1",null,Un("content"));var c=n.splat[0],l=De(t.path),o={save:this.handleClickSave},s=Ie("data files",c,l);return i.a.createElement(E.a,{title:s},i.a.createElement(h.HotKeys,{handlers:o,className:"single"},r.length>0&&i.a.createElement(Sa,{errors:r}),i.a.createElement("div",{className:"content-header"},i.a.createElement(Kt,{type:"datafiles",splat:c})),i.a.createElement("div",{className:"content-wrapper"},this.renderContentBody(l),this.renderAside())))}}]),a}(r.Component),Bn=Object(s.withRouter)(Object(o.b)((function(e){return{datafile:e.datafiles.currentFile,isFetching:e.datafiles.isFetching,updated:e.datafiles.updated,datafileChanged:e.datafiles.datafileChanged,fieldChanged:e.metadata.fieldChanged,errors:e.utils.errors}}),(function(e){return Object(m.b)({fetchDataFile:Dn,putDataFile:Sn,deleteDataFile:wn,onDataFileChanged:Ln,clearErrors:Ce},e)}))(xn)),Hn=ae.getLeaveMessage,Vn=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={guiView:!1},e.routerWillLeave=function(t){if(!e.state.guiView&&e.props.datafileChanged)return Hn()},e.toggleView=function(){e.setState((function(e){return{guiView:!e.guiView}}))},e.handleClickSave=function(t){we(t);var a,n=e.props,r=n.datafileChanged,i=n.fieldChanged,c=n.putDataFile,l=n.params;if(r||i)if(e.state.guiView){var o=e.refs.gui.refs,s=o.filepath,u=o.extname;a=s.value+u.value,c(l.splat,a,null,null,"gui")}else a=e.refs.inputpath.refs.input.value,c(l.splat,a,e.refs.editor.getValue())},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.router,a=e.route;t.setRouteLeaveHook(a,this.routerWillLeave)}},{key:"componentWillReceiveProps",value:function(e){this.props.updated!==e.updated&&s.browserHistory.push("".concat("/admin","/datafiles/").concat(e.datafile.relative_path))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.clearErrors;e.errors.length&&t()}},{key:"renderAside",value:function(){var e=this.props,t=e.datafileChanged,a=e.fieldChanged,n=e.updated;return i.a.createElement("div",{className:"content-side"},i.a.createElement(Ia,{onClick:this.handleClickSave,type:"create",active:t||a,triggered:n,block:!0}),i.a.createElement(Ia,{onClick:this.toggleView,type:"view-toggle",triggered:this.state.guiView,active:!0,block:!0}))}},{key:"renderContentBody",value:function(){var e=this.props,t=e.datafileChanged,a=e.onDataFileChanged;return this.state.guiView?i.a.createElement("div",{className:"content-body"},i.a.createElement(ja,{onChange:a,ref:"gui"})):i.a.createElement("div",{className:"content-body"},i.a.createElement(qa,{onChange:a,type:"data files",path:"",ref:"inputpath"}),i.a.createElement(Da,{editorChanged:t,onEditorChange:a,content:"",ref:"editor"}))}},{key:"render",value:function(){var e=this.props,t=e.errors,a=e.params,n={save:this.handleClickSave},r=Ie("data files",a.splat,"New data file");return i.a.createElement(E.a,{title:r},i.a.createElement(h.HotKeys,{handlers:n},t.length>0&&i.a.createElement(Sa,{errors:t}),i.a.createElement("div",{className:"content-header"},i.a.createElement(Kt,{type:"datafiles",splat:a.splat})),i.a.createElement("div",{className:"content-wrapper"},this.renderContentBody(),this.renderAside())))}}]),a}(r.Component),Kn=Object(s.withRouter)(Object(o.b)((function(e){return{datafile:e.datafiles.currentFile,updated:e.datafiles.updated,datafileChanged:e.datafiles.datafileChanged,fieldChanged:e.metadata.fieldChanged,errors:e.utils.errors}}),(function(e){return Object(m.b)({putDataFile:Sn,onDataFileChanged:Ln,clearErrors:Ce},e)}))(Vn)),Gn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){return t({type:"FETCH_DRAFTS_REQUEST"}),le(O(e),{type:"FETCH_DRAFTS_SUCCESS",name:"drafts"},{type:"FETCH_DRAFTS_FAILURE",name:"error"},t)}},Qn=function(e,t){return function(a){return a({type:"FETCH_DRAFT_REQUEST"}),le(k(e,t),{type:"FETCH_DRAFT_SUCCESS",name:"draft"},{type:"FETCH_DRAFT_FAILURE",name:"error"},a)}},Wn=function(e){return function(t,a){var n=a().metadata.metadata,r=n.path,i=n.raw_content,c=n.title;if(r&&"".concat(r,"/")!==e||!c){var l=ge(n);if(l.length)return t(_e(l))}else r="".concat(Ae(c),".md");t({type:"CLEAR_ERRORS"});var o=Re(n),s=r.replace("_drafts/","");return oe(k(e,s),Pe({front_matter:o,raw_content:i}),{type:"PUT_DRAFT_SUCCESS",name:"draft"},{type:"PUT_DRAFT_FAILURE",name:"error"},t)}},Yn=function(e,t){return function(a,n){var r=n().metadata.metadata,i=r.path,c=r.raw_content,l=r.title;if(i&&"".concat(i,"/")!==e||!l){var o=ge(r);if(o.length)return a(_e(o))}else i="".concat(Ae(l),".md");a({type:"CLEAR_ERRORS"});var s=Re(r),u=e?"_drafts/".concat(e,"/").concat(i):"_drafts/".concat(i);return oe(k(e,t),Pe({path:u,front_matter:s,raw_content:c}),{type:"PUT_DRAFT_SUCCESS",name:"draft"},{type:"PUT_DRAFT_FAILURE",name:"error"},a)}},qn=function(e,t){return function(a){var n=Ne(e,t);return se(k(e,t),{type:"DELETE_DRAFT_SUCCESS",name:"draft",id:n},{type:"DELETE_DRAFT_FAILURE",name:"error"},a)}},zn=function(e,t){return function(a,n){var r=n().metadata.metadata,i=r.path,c=r.raw_content,l=r.title;if(!i&&l)i="".concat(Ae(l),".md");else{var o=ge(r);if(o.length)return a(_e(o))}a({type:"CLEAR_ERRORS"});var s=Re(r);return oe(j("posts",e,t),Pe({raw_content:c,front_matter:s}),{type:"PUT_DOCUMENT_SUCCESS",name:"doc"},{type:"PUT_DOCUMENT_FAILURE",name:"error"},a)}};var Zn=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.fetchDrafts)(e.params.splat)}},{key:"componentWillReceiveProps",value:function(e){var t=e.fetchDrafts;this.props.params.splat!==e.params.splat&&t(e.params.splat)}},{key:"render",value:function(){var e=this.props,t=e.isFetching,a=e.drafts,n=e.search,r=e.params,c=e.deleteDraft;if(t)return null;var l=Ie("drafts",r.splat);return i.a.createElement(E.a,{title:l},i.a.createElement(xa,{type:"drafts",items:a,params:r,newBtnLabel:"New draft",search:n,deleteItem:c}))}}]),a}(r.Component),Jn=Object(o.b)((function(e){return{drafts:ve(e.drafts.drafts,e.utils.input),isFetching:e.drafts.isFetching}}),(function(e){return Object(m.b)({fetchDrafts:Gn,deleteDraft:qn,search:be},e)}))(Zn),Xn=ae.getLeaveMessage,$n=ae.getDeleteMessage,er=ae.getPublishDraftMessage,tr=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).routerWillLeave=function(t){if(e.props.fieldChanged)return Xn()},e.handleClickSave=function(t){we(t);var a=e.props,n=a.putDraft,r=a.fieldChanged,i=a.params;if(r){var c=Object(Ya.a)(i.splat);n(c[0],c.slice(1).join("."))}},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchDraft,a=e.params,n=e.router,r=e.route,i=Object(Ya.a)(a.splat);t(i[0],i.slice(1).join(".")),n.setRouteLeaveHook(r,this.routerWillLeave)}},{key:"componentWillReceiveProps",value:function(e){this.props.updated!==e.updated&&(e.draft.path!==this.props.draft.path&&s.browserHistory.push("".concat("/admin","/drafts/").concat(e.draft.relative_path)))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.clearErrors;e.errors.length&&t()}},{key:"handleClickPublish",value:function(e){var t=this.props,a=t.deleteDraft,n=t.publishDraft,r=t.params,i=Object(Ya.a)(r.splat),c=i[0],l=i.slice(1).join("."),o=Ze()().format("YYYY-MM-DD"),u="".concat(o,"-").concat(l),d=c?"_posts/".concat(c,"/").concat(u):"_posts/".concat(u);if(window.confirm(er(e,d))){var p=c?"/".concat(c):"";a(c,l),n(c,u),s.browserHistory.push("".concat("/admin","/drafts").concat(p))}}},{key:"handleClickDelete",value:function(e){var t=this.props,a=t.deleteDraft,n=t.params;if(window.confirm($n(e))){var r=Object(Ya.a)(n.splat),i=r[0],c=r.slice(1).join("."),l=i?"/".concat(i):"";a(i,c),s.browserHistory.push("".concat("/admin","/drafts").concat(l))}}},{key:"render",value:function(){var e=this,t=this.props,a=t.isFetching,n=t.draft,r=t.errors,c=t.updateTitle,l=t.updateBody,o=t.updatePath,s=t.updated,u=t.fieldChanged,d=t.params;if(a)return null;if(de.a.isEmpty(n))return i.a.createElement("h1",null,"Could not find the draft.");var p={save:this.handleClickSave},f=n.name,m=n.path,g=n.raw_content,y=n.http_url,b=n.front_matter,C=n.front_matter_defaults,_=d.splat[0],O=b&&b.title?b.title:"",k=Ie("drafts",_,O||f);return i.a.createElement(E.a,{title:k},i.a.createElement(h.HotKeys,{handlers:p,className:"single"},r.length>0&&i.a.createElement(Sa,{errors:r}),i.a.createElement("div",{className:"content-header"},i.a.createElement(Kt,{type:"drafts",splat:_})),i.a.createElement("div",{className:"content-wrapper"},i.a.createElement(rn,{type:"drafts",path:f,title:O,body:g,updatePath:o,updateBody:l,updateTitle:c,onSave:this.handleClickSave,metafields:Object(v.a)({title:O,raw_content:g,path:f},b),staticmetafields:C}),i.a.createElement("div",{className:"content-side"},i.a.createElement(Ia,{onClick:this.handleClickSave,type:"save",active:u,triggered:s,block:!0}),i.a.createElement(Ia,{to:y,type:"view",active:!0,block:!0}),i.a.createElement(Ke,null),i.a.createElement(Ia,{onClick:function(){return e.handleClickPublish(m)},type:"publish",active:!0,block:!0}),i.a.createElement(Ia,{onClick:function(){return e.handleClickDelete(f)},type:"delete",active:!0,block:!0})))))}}]),a}(r.Component),ar=Object(s.withRouter)(Object(o.b)((function(e){return{draft:e.drafts.draft,isFetching:e.drafts.isFetching,fieldChanged:e.metadata.fieldChanged,updated:e.drafts.updated,errors:e.utils.errors}}),(function(e){return Object(m.b)({fetchDraft:Qn,deleteDraft:qn,putDraft:Yn,publishDraft:zn,updateTitle:ya,updateBody:ba,updatePath:Ca,clearErrors:Ce},e)}))(tr)),nr=ae.getLeaveMessage,rr=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).routerWillLeave=function(t){if(e.props.fieldChanged)return nr()},e.handleClickSave=function(t){we(t);var a=e.props,n=a.fieldChanged,r=a.createDraft,i=a.params;n&&r(i.splat)},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.router,a=e.route;t.setRouteLeaveHook(a,this.routerWillLeave)}},{key:"componentWillReceiveProps",value:function(e){this.props.updated!==e.updated&&s.browserHistory.push("".concat("/admin","/drafts/").concat(e.draft.relative_path))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.clearErrors;e.errors.length&&t()}},{key:"render",value:function(){var e=this.props,t=e.params,a=e.config,n=e.errors,r=e.updated,c=e.updateBody,l=e.updatePath,o=e.updateTitle,s=e.fieldChanged,u=Ie("drafts",t.splat,"New draft");return i.a.createElement(E.a,{title:u},i.a.createElement(un,{type:"drafts",params:t,config:a,errors:n,updated:r,updateBody:c,updatePath:l,updateTitle:o,fieldChanged:s,onClickSave:this.handleClickSave}))}}]),a}(r.Component),ir=Object(s.withRouter)(Object(o.b)((function(e){return{draft:e.drafts.draft,fieldChanged:e.metadata.fieldChanged,errors:e.utils.errors,updated:e.drafts.updated,config:e.config.config}}),(function(e){return Object(m.b)({updateTitle:ya,updateBody:ba,updatePath:Ca,createDraft:Wn,clearErrors:Ce},e)}))(rr)),cr=a(272),lr=a.n(cr),or=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"openDropzone",value:function(){this.refs.ReactDropzone.open()}},{key:"render",value:function(){var e=this.props,t=e.files,a=e.splat,n=e.onDrop,r=e.onClickDelete,c=e.onClickItem;return i.a.createElement(lr.a,{onDrop:n,ref:"ReactDropzone",className:"dropzone",activeClassName:"dropzone-active",multiple:!0,disableClick:!0},t.length?i.a.createElement("div",{className:"preview-container"},de.a.map(t,(function(e,t){return i.a.createElement(Vt,{key:t,onClick:c,onClickDelete:r,splat:a,file:e})})),i.a.createElement(Ke,null),i.a.createElement("div",{className:"preview-tip"},i.a.createElement("div",null,"Drag and drop file(s) here to upload"))):i.a.createElement("div",{className:"preview-info"},i.a.createElement(Ge,{name:"upload"}),i.a.createElement("p",null,"Drag and drop file(s) here to upload")))}}]),a}(r.Component),sr=ae.getOverrideMessage,ur=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).openDropzone=function(){e.refs.dropzone.openDropzone()},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.fetchStaticFiles)(e.params.splat)}},{key:"componentWillReceiveProps",value:function(e){var t=e.fetchStaticFiles;this.props.params.splat!==e.params.splat&&t(e.params.splat)}},{key:"onDrop",value:function(e){var t=this.props,a=t.uploadStaticFiles,n=t.files,r=t.params,i=function(e,t){if(e&&!e.length||t&&!t.length)return[];var a=de.a.map(t,(function(e){return De(e.path)}));return de.a.chain(e).filter((function(e){return a.includes(e.name)})).map((function(e){return e.name})).value()}(e,n);if(i.length>0&&!window.confirm(sr(i.join(", "))))return!1;a(r.splat,e)}},{key:"renderFilePreviewRow",value:function(e,t){var a=this,n=this.props,r=n.params,c=n.onClickStaticFile,l=n.deleteStaticFile;return i.a.createElement("tr",{key:t},i.a.createElement("td",null,i.a.createElement(or,{ref:"dropzone",splat:r.splat||"",files:e,onClickItem:c,onClickDelete:l,onDrop:function(e){return a.onDrop(e)}})))}},{key:"renderDirectoryRow",value:function(e,t){var a=e.name,n=e.path,r="".concat("/admin","/staticfiles/").concat(n);return i.a.createElement("tr",{key:t},i.a.createElement("td",{className:"row-title"},i.a.createElement("strong",null,i.a.createElement(s.Link,{to:r},i.a.createElement(Ge,{name:"folder"}),a))))}},{key:"renderRows",value:function(){var e=this,t=this.props.files,a=t.filter((function(e){return"directory"===e.type})),n=t.filter((function(e){return!e.type}));return a.map((function(t,a){return e.renderDirectoryRow(t,a)})).concat(this.renderFilePreviewRow(n,a.length+1))}},{key:"renderTable",value:function(){return i.a.createElement("div",{className:"content-table"},i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Directory Contents"))),i.a.createElement("tbody",null,this.renderRows())))}},{key:"render",value:function(){var e=this,t=this.props,a=t.isFetching,n=t.params,r=t.search;if(a)return null;var c="".concat("/admin","/staticfiles/index"),l=Ie("static files",n.splat);return i.a.createElement(E.a,{title:l},i.a.createElement("div",null,i.a.createElement("div",{className:"content-header"},i.a.createElement(Kt,{type:"staticfiles",splat:n.splat}),i.a.createElement("div",{className:"page-buttons multiple"},i.a.createElement(s.Link,{className:"btn btn-view",to:c},"Index Listing"),i.a.createElement(Ia,{onClick:function(){return e.openDropzone()},type:"upload",active:!0})),i.a.createElement("div",{className:"pull-right"},i.a.createElement(Gt,{searchBy:"filename",search:r}))),this.renderTable()))}}]),a}(r.Component),dr=Object(o.b)((function(e){return{files:Xt(e.staticfiles.files,e.utils.input),isFetching:e.staticfiles.isFetching}}),(function(e){return Object(m.b)({fetchStaticFiles:zt,uploadStaticFiles:Zt,deleteStaticFile:Jt,search:be},e)}))(ur),pr=function(){return i.a.createElement("div",{className:"notfound"},i.a.createElement("img",{src:a(670),alt:"Jekyll Admin"}),i.a.createElement("h1",null,"Huh. It seems that page is Hyde-ing..."),i.a.createElement("h2",null,"The resource you requested was not found."))},fr=i.a.createElement(s.Route,{path:"".concat("/admin"),component:Et},i.a.createElement(s.IndexRoute,{component:Wa}),i.a.createElement(s.Route,{path:"configuration",component:Pa}),i.a.createElement(s.Route,{path:"pages"},i.a.createElement(s.IndexRoute,{component:Wa}),i.a.createElement(s.Route,{path:"(**/)new",component:fn}),i.a.createElement(s.Route,{path:"(**/)*.*",component:sn}),i.a.createElement(s.Route,{path:"**",component:Wa})),i.a.createElement(s.Route,{path:"collections"},i.a.createElement(s.Route,{path:":collection_name"},i.a.createElement(s.IndexRoute,{component:En}),i.a.createElement(s.Route,{path:"(**/)new",component:Fn}),i.a.createElement(s.Route,{path:"(**/)*.*",component:_n}),i.a.createElement(s.Route,{path:"**",component:En}))),i.a.createElement(s.Route,{path:"drafts"},i.a.createElement(s.IndexRoute,{component:Jn}),i.a.createElement(s.Route,{path:"(**/)new",component:ir}),i.a.createElement(s.Route,{path:"(**/)*.*",component:ar}),i.a.createElement(s.Route,{path:"**",component:Jn})),i.a.createElement(s.Route,{path:"datafiles"},i.a.createElement(s.IndexRoute,{component:Rn}),i.a.createElement(s.Route,{path:"(**/)new",component:Kn}),i.a.createElement(s.Route,{path:"(**/)*.*",component:Bn}),i.a.createElement(s.Route,{path:"**",component:Rn})),i.a.createElement(s.Route,{path:"staticfiles"},i.a.createElement(s.IndexRoute,{component:dr}),i.a.createElement(s.Route,{path:"index",component:ea}),i.a.createElement(s.Route,{path:"**",component:dr})),i.a.createElement(s.Route,{path:"".concat("/admin","/*"),component:pr})),mr=(a(273),a(166)),hr=a.n(mr),gr=a(274),Er=a.n(gr),vr=Object(m.c)({routing:c.routerReducer,meta:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{site:{},isFetching:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SITE_META_REQUEST":return Object(v.a)(Object(v.a)({},e),{},{isFetching:!0});case"FETCH_SITE_META_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{site:t.site,isFetching:!1});case"FETCH_SITE_META_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{isFetching:!1});default:return e}},config:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{config:{},updated:!1,editorChanged:!1,fieldChanged:!1,isFetching:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CONFIG_REQUEST":return Object(v.a)(Object(v.a)({},e),{},{isFetching:!0});case"FETCH_CONFIG_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{config:t.config,isFetching:!1});case"FETCH_CONFIG_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{isFetching:!1});case"PUT_CONFIG_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{config:t.config,editorChanged:!1,updated:!0});case"PUT_CONFIG_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{editorChanged:!1});case"CONFIG_EDITOR_CHANGED":return Object(v.a)(Object(v.a)({},e),{},{editorChanged:!0,updated:!1});default:return Object(v.a)(Object(v.a)({},e),{},{updated:!1,editorChanged:!1})}},pages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pages:[],page:{},isFetching:!1,updated:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PAGES_REQUEST":case"FETCH_PAGE_REQUEST":return Object(v.a)(Object(v.a)({},e),{},{isFetching:!0});case"FETCH_PAGES_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{pages:t.pages,isFetching:!1,page:{}});case"FETCH_PAGES_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{isFetching:!1,pages:[]});case"FETCH_PAGE_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{page:t.page,isFetching:!1});case"FETCH_PAGE_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{page:{},isFetching:!1});case"PUT_PAGE_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{page:t.page,updated:!0});case"DELETE_PAGE_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{pages:ye(e.pages,t.id)});default:return Object(v.a)(Object(v.a)({},e),{},{updated:!1})}},collections:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{collections:[],entries:[],currentDocument:{},isFetching:!1,updated:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_COLLECTIONS_REQUEST":case"FETCH_COLLECTION_REQUEST":case"FETCH_DOCUMENT_REQUEST":return Object(v.a)(Object(v.a)({},e),{},{isFetching:!0});case"FETCH_COLLECTIONS_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{collections:t.collections,isFetching:!1});case"FETCH_COLLECTION_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{entries:t.entries,isFetching:!1});case"FETCH_DOCUMENT_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{currentDocument:t.doc,isFetching:!1});case"FETCH_COLLECTIONS_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{collections:[],isFetching:!1});case"FETCH_COLLECTION_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{entries:[],isFetching:!1});case"FETCH_DOCUMENT_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{currentDocument:{},isFetching:!1});case"PUT_DOCUMENT_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{currentDocument:t.doc,updated:!0});case"DELETE_DOCUMENT_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{entries:ye(e.entries,t.id)});default:return Object(v.a)(Object(v.a)({},e),{},{updated:!1})}},metadata:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{metadata:{},new_field_count:1,key_prefix:"",fieldChanged:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_TITLE":return Object(v.a)(Object(v.a)({},e),{},{metadata:Object(v.a)(Object(v.a)({},e.metadata),{},{title:t.title}),fieldChanged:!0});case"UPDATE_BODY":return Object(v.a)(Object(v.a)({},e),{},{metadata:Object(v.a)(Object(v.a)({},e.metadata),{},{raw_content:t.body}),fieldChanged:!0});case"UPDATE_PATH":return Object(v.a)(Object(v.a)({},e),{},{metadata:Object(v.a)(Object(v.a)({},e.metadata),{},{path:t.path}),fieldChanged:!0});case"STORE_CONTENT_FIELDS":return Object(v.a)(Object(v.a)({},e),{},{metadata:t.content});case"ADD_METAFIELD":return Object(v.a)(Object(v.a)({},e),{},{metadata:Object(_t.a)(e,t.namePrefix),new_field_count:e.new_field_count+1});case"REMOVE_METAFIELD":return Object(v.a)(Object(v.a)({},e),{},{metadata:Object(_t.f)(e,t.namePrefix,t.key),fieldChanged:!0,key_prefix:"".concat(100*Math.random())});case"UPDATE_FIELD_KEY":return Object(v.a)(Object(v.a)({},e),{},{metadata:Object(_t.g)(e,t.namePrefix,t.fieldKey,t.newKey.trim()),fieldChanged:!0});case"UPDATE_FIELD_VALUE":return Object(v.a)(Object(v.a)({},e),{},{metadata:Object(_t.h)(e,t.nameAttr,t.value),fieldChanged:!0});case"MOVE_ARRAY_ITEM":return Object(v.a)(Object(v.a)({},e),{},{metadata:Object(_t.e)(e,t.namePrefix,t.srcInd,t.targetInd),key_prefix:"".concat(100*Math.random()),fieldChanged:!0});case"CONVERT_FIELD":return Object(v.a)(Object(v.a)({},e),{},{metadata:Object(_t.c)(e,t.nameAttr,t.convertType),new_field_count:e.new_field_count+1,fieldChanged:!0});case"ENABLE_FIELD":return Object(v.a)(Object(v.a)({},e),{},{metadata:Object(_t.h)(e,t.nameAttr,t.value),fieldChanged:!0});default:return Object(v.a)(Object(v.a)({},e),{},{fieldChanged:!1})}},drafts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{drafts:[],draft:{},isFetching:!1,updated:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DRAFTS_REQUEST":case"FETCH_DRAFT_REQUEST":return Object(v.a)(Object(v.a)({},e),{},{isFetching:!0});case"FETCH_DRAFTS_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{drafts:t.drafts,isFetching:!1,draft:{}});case"FETCH_DRAFTS_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{isFetching:!1,drafts:[]});case"FETCH_DRAFT_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{draft:t.draft,isFetching:!1});case"FETCH_DRAFT_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{draft:{},isFetching:!1});case"PUT_DRAFT_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{draft:t.draft,updated:!0});case"DELETE_DRAFT_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{drafts:ye(e.drafts,t.id)});default:return Object(v.a)(Object(v.a)({},e),{},{updated:!1})}},datafiles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{files:[],currentFile:{},isFetching:!1,updated:!1,datafileChanged:!1,fieldChanged:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DATAFILES_REQUEST":case"FETCH_DATAFILE_REQUEST":return Object(v.a)(Object(v.a)({},e),{},{isFetching:!0});case"FETCH_DATAFILES_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{files:t.files,isFetching:!1,currentFile:{}});case"FETCH_DATAFILES_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{isFetching:!1,currentFile:{}});case"FETCH_DATAFILE_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{currentFile:t.file,isFetching:!1});case"FETCH_DATAFILE_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{currentFile:{},isFetching:!1});case"PUT_DATAFILE_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{currentFile:t.file,updated:!0,datafileChanged:!1});case"PUT_DATAFILE_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{datafileChanged:!1});case"DELETE_DATAFILE_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{files:ye(e.files,t.id)});case"DATAFILE_CHANGED":return Object(v.a)(Object(v.a)({},e),{},{datafileChanged:!0,updated:!1});default:return Object(v.a)(Object(v.a)({},e),{},{updated:!1,datafileChanged:!1})}},staticfiles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{files:[],isFetching:!1,uploading:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_STATICFILES_REQUEST":return Object(v.a)(Object(v.a)({},e),{},{isFetching:!0});case"FETCH_STATICFILES_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{files:t.files,isFetching:!1});case"FETCH_STATICFILES_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{isFetching:!1});case"PUT_STATICFILE_REQUEST":return Object(v.a)(Object(v.a)({},e),{},{uploading:!0});case"PUT_STATICFILE_SUCCESS":case"PUT_STATICFILE_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{uploading:!1});case"DELETE_STATICFILE_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{files:ye(e.files,t.id)});default:return e}},utils:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{input:"",errors:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_CONTENT":return Object(v.a)(Object(v.a)({},e),{},{input:t.input});case"CLEAR_ERRORS":return Object(v.a)(Object(v.a)({},e),{},{errors:[]});case"VALIDATION_ERROR":return Object(v.a)(Object(v.a)({},e),{},{errors:t.errors});default:return Object(v.a)(Object(v.a)({},e),{},{input:""})}},notifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{notification:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NOTIFICATION":return Object(v.a)(Object(v.a)({},e),{},{notification:t.notification});default:return e}}}),yr=(Er()(),function(e){var t=[hr.a];return Object(m.e)(vr,e,Object(m.d)(m.a.apply(void 0,t)))}),br=(a(674),yr()),Cr=Object(c.syncHistoryWithStore)(s.browserHistory,br);Object(l.render)(i.a.createElement(o.a,{store:br},i.a.createElement(s.Router,{history:Cr,routes:fr},i.a.createElement(s.Redirect,{from:"".concat("/admin","/"),to:"".concat("/admin","/pages/")}))),document.getElementById("root"))}},[[277,1,2]]]);
//# sourceMappingURL=main.2ce220f0.chunk.js.map